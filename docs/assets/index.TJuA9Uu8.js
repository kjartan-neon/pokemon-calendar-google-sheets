var wn=Object.defineProperty;var yn=(t,e,l)=>e in t?wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Zt=(t,e,l)=>yn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();function X(){}function cn(t){return t()}function Ll(){return Object.create(null)}function ve(t){t.forEach(cn)}function un(t){return typeof t=="function"}function Be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Et;function qe(t,e){return t===e?!0:(Et||(Et=document.createElement("a")),Et.href=e,t===Et.href)}function Cn(t){return Object.keys(t).length===0}function Sn(t,...e){if(t==null){for(const n of e)n(void 0);return X}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function gt(t,e,l){t.$$.on_destroy.push(Sn(e,l))}function r(t,e){t.appendChild(e)}function M(t,e,l){t.insertBefore(e,l||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function We(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function k(){return h(" ")}function nl(){return h("")}function B(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function fn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Pt(t){return t===""?null:+t}function qn(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function pe(t,e){t.value=e??""}function Qe(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function Fe(t,e,l){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function Z(t,e,l){t.classList.toggle(e,!!l)}function An(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let vt;function pt(t){vt=t}function dn(){if(!vt)throw new Error("Function called outside component initialization");return vt}function mn(t){dn().$$.on_mount.push(t)}function Dt(){const t=dn();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=An(e,l,{cancelable:n});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function zl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const st=[],xt=[];let rt=[];const El=[],Mn=Promise.resolve();let el=!1;function Ln(){el||(el=!0,Mn.then(gn))}function tl(t){rt.push(t)}const Xt=new Set;let lt=0;function gn(){if(lt!==0)return;const t=vt;do{try{for(;lt<st.length;){const e=st[lt];lt++,pt(e),zn(e.$$)}}catch(e){throw st.length=0,lt=0,e}for(pt(null),st.length=0,lt=0;xt.length;)xt.pop()();for(let e=0;e<rt.length;e+=1){const l=rt[e];Xt.has(l)||(Xt.add(l),l())}rt.length=0}while(st.length);for(;El.length;)El.pop()();el=!1,Xt.clear(),pt(t)}function zn(t){if(t.fragment!==null){t.update(),ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tl)}}function En(t){const e=[],l=[];rt.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),rt=e}const Qt=new Set;let Ue;function pn(){Ue={r:0,c:[],p:Ue}}function vn(){Ue.r||ve(Ue.c),Ue=Ue.p}function be(t,e){t&&t.i&&(Qt.delete(t),t.i(e))}function Ae(t,e,l,n){if(t&&t.o){if(Qt.has(t))return;Qt.add(t),Ue.c.push(()=>{Qt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function he(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function it(t){t&&t.c()}function Ge(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),tl(()=>{const o=t.$$.on_mount.map(cn).filter(un);t.$$.on_destroy?t.$$.on_destroy.push(...o):ve(o),t.$$.on_mount=[]}),s.forEach(tl)}function Je(t,e){const l=t.$$;l.fragment!==null&&(En(l.after_update),ve(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Qn(t,e){t.$$.dirty[0]===-1&&(st.push(t),Ln(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ze(t,e,l,n,s,o,i=null,u=[-1]){const f=vt;pt(t);const c=t.$$={fragment:null,ctx:[],props:o,update:X,not_equal:s,bound:Ll(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ll(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};i&&i(c.root);let m=!1;if(c.ctx=l?l(t,e.props||{},(p,v,...g)=>{const _=g.length?g[0]:v;return c.ctx&&s(c.ctx[p],c.ctx[p]=_)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](_),m&&Qn(t,p)),v}):[],c.update(),m=!0,ve(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const p=qn(e.target);c.fragment&&c.fragment.l(p),p.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&be(t.$$.fragment),Ge(t,e.target,e.anchor),gn()}pt(f)}class Xe{constructor(){Zt(this,"$$");Zt(this,"$$set")}$destroy(){Je(this,1),this.$destroy=X}$on(e,l){if(!un(l))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Cn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const In="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(In);const _n="https://api.tcgdex.net/v2/en";function hn(t,e){const l=t.split("-")[1];return`https://assets.tcgdex.net/en/${Tn(e)}/${e}/${l}/high.webp`}function Tn(t){return t.startsWith("swsh")?"swsh":t.startsWith("sv")?"sv":t.startsWith("me")?"base":"swsh"}async function ll(t){try{const e=await fetch(`${_n}/sets/${t}`);if(!e.ok)throw new Error("Failed to fetch cards from set");return((await e.json()).cards||[]).map(s=>({id:s.id,localId:s.localId,name:s.name,image:hn(s.id,t)}))}catch(e){throw console.error("Error fetching cards from set:",e),e}}async function Pn(t,e){try{const l=await fetch(`${_n}/cards/${t}`);if(!l.ok)throw new Error("Failed to fetch card details");return{...await l.json(),image:hn(t,e)}}catch(l){throw console.error("Error fetching card details:",l),l}}function Nn(t){const e=Math.floor(Math.random()*t.length);return t[e]}const sl="pokemon-tcg-collection",kn="2.0";function Dn(){return{totalQuestions:0,correctAnswers:0,incorrectAnswers:0,totalHpDefeated:0}}function $t(){return{cards:[],stats:Dn(),version:kn}}function Se(){try{const t=localStorage.getItem(sl);if(!t)return $t();const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?(console.warn("Invalid collection format, resetting..."),$t()):(e.stats.totalHpDefeated||(e.stats.totalHpDefeated=0),e.currentStreak||(e.currentStreak=0),e.unlockedRareSets||(e.unlockedRareSets={}),e)}catch(t){return console.error("Error loading collection from local storage:",t),$t()}}function ot(t){try{const e={...t,version:kn};localStorage.setItem(sl,JSON.stringify(e))}catch(e){throw console.error("Error saving collection to local storage:",e),new Error("Failed to save collection")}}function Rn(t){try{const e=Se();return e.cards.some(n=>n.id===t.id)?!1:(e.cards.push(t),ot(e),!0)}catch(e){return console.error("Error adding card to collection:",e),!1}}function jn(t,e){try{const l=Se();l.stats.totalQuestions++,t?(l.stats.correctAnswers++,e&&(l.stats.totalHpDefeated+=e)):l.stats.incorrectAnswers++,ot(l)}catch(l){console.error("Error updating stats:",l)}}function Fn(){try{localStorage.removeItem(sl)}catch(t){console.error("Error clearing collection:",t)}}function Bn(){const t=Se();return JSON.stringify(t,null,2)}function On(t){try{const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?{success:!1,error:"Invalid collection format"}:!e.stats.totalQuestions===void 0||!e.stats.correctAnswers===void 0||!e.stats.incorrectAnswers===void 0?{success:!1,error:"Invalid stats format"}:(ot(e),{success:!0})}catch(e){return console.error("Error importing collection:",e),{success:!1,error:"Failed to parse JSON file"}}}function Ql(t){const e=Math.floor(Math.random()*9)+1,l=Math.floor(Math.random()*9)+1,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function Il(t){const e=["+","-"],l=e[Math.floor(Math.random()*e.length)];let n,s;if(l==="+"){const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i,s=t.mathQuestion(o,i,"+")}else{const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i;const u=n;n=o,s=t.mathQuestion(u,i,"-")}return{question:s,answer:n}}function Vn(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=["+","-"],s=n[Math.floor(Math.random()*n.length)];let o,i;if(s==="+")o=e+l,i=t.mathQuestion(e,l,"+");else{o=e+l;const u=o;o=e,i=t.mathQuestion(u,l,"-")}return{question:i,answer:o}}function Hn(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function Yn(t,e,l=!1,n=4){if(!t)return null;let s,o,i=!1,u,f;if(n===1){const c=Ql(e);s=c.question,o=c.answer}else if(n===2||n===3){const c=Il(e);s=c.question,o=c.answer}else if(t.hp&&t.hp>0){i=!0;const c=[10,20,30,40,50,60,60,80,120,300][Math.floor(Math.random()*5)];o=Math.ceil(t.hp/c),s=e.damageQuestion(c)}else{const c=Vn(e);s=c.question,o=c.answer}if(l)if(n===1){const c=Ql(e);u=c.question,f=c.answer}else if(n===2||n===3){const c=Il(e);u=c.question,f=c.answer}else{const c=Hn(e);u=c.question,f=c.answer}return{card:t,questionText:s,correctAnswer:o,isPokemon:i,secondQuestion:u,secondAnswer:f}}function Kn(t,e,l){const n=e===t.correctAnswer;if(t.secondQuestion&&t.secondAnswer!==void 0){const s=l===t.secondAnswer;return n&&s}return n}const nt=[];function rl(t,e=X){let l;const n=new Set;function s(u){if(Be(t,u)&&(t=u,l)){const f=!nt.length;for(const c of n)c[1](),nt.push(c,t);if(f){for(let c=0;c<nt.length;c+=2)nt[c][0](nt[c+1]);nt.length=0}}}function o(u){s(u(t))}function i(u,f=X){const c=[u,f];return n.add(c),n.size===1&&(l=e(s,o)||X),u(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:s,update:o,subscribe:i}}const It=[{id:"swsh3",name:"Sword & Shield - Darkness Ablaze"},{id:"sv05",name:"Scarlet & Violet - Temporal Forces"},{id:"sv06.5",name:"Scarlet & Violet - Shrouded Fable"}],bn="tcg-math-settings";function Un(){return{language:"en",selectedSet:"swsh3",klassetrinn:4}}function Rt(){try{const t=localStorage.getItem(bn);if(t){const e=JSON.parse(t);return{language:e.language||"en",selectedSet:e.selectedSet||"swsh3",klassetrinn:e.klassetrinn||4}}}catch(t){console.error("Error loading settings:",t)}return Un()}function ol(t){try{localStorage.setItem(bn,JSON.stringify(t))}catch(e){console.error("Error saving settings:",e)}}const il=Rt(),Tt=rl(il.language),Nt=rl(il.selectedSet),_t=rl(il.klassetrinn);Tt.subscribe(t=>{const e=Rt();ol({...e,language:t})});Nt.subscribe(t=>{const e=Rt();ol({...e,selectedSet:t})});_t.subscribe(t=>{const e=Rt();ol({...e,klassetrinn:t})});const Wn={en:{appTitle:"16k Pokemon Math Challenge",quizTitle:"TCG Math Challenge",playQuiz:"Play Quiz",myCollection:"My Collection",selectSet:"Select Set",selectLanguage:"Language",setInfo:"Collecting Set",enterAnswer:"Enter your answer",submitAnswer:"Submit Answer",nextQuestion:"Next Question",correct:"Correct!",notQuite:"Not quite!",correctMessage:"Great job! The answer was",incorrectMessage:"You answered",encouragement:"Try again with the next question!",youWonThisCard:"You won this card!",cardsCollected:"Cards Collected",questionsAnswered:"Questions Answered",correctAnswers:"Correct Answers",accuracy:"Accuracy",noCardsYet:"No cards yet!",noCardsDescription:"Answer questions correctly to start building your collection.",exportBackup:"Export Backup",importBackup:"Import Backup",clearThisSet:"Clear This Set",clearCollectionTitle:"Clear Collection?",clearCollectionMessage:"Are you sure you want to clear your entire collection? This action cannot be undone.",cancel:"Cancel",clearCollection:"Clear Collection",collectionExported:"Collection exported successfully!",collectionImported:"Collection imported successfully!",collectionCleared:"Collection cleared successfully!",exportFailed:"Failed to export collection",importFailed:"Failed to import collection",clearFailed:"Failed to clear collection",hit:"hit",hits:"hits",loading:"Loading new question...",yourCollection:"Your Collection",language:"Language",gradeLevel:"Grade Level",damageQuestion:t=>`Your Pok√©mon deals ${t} damage each turn. How many turns does it take to defeat this Pok√©mon?`,mathQuestion:(t,e,l)=>`What is ${t} ${l} ${e}?`},no:{appTitle:"16k Pok√©mon Matteutfordring",quizTitle:"TCG Matte Utfordring",playQuiz:"Spill Quiz",myCollection:"Min Samling",selectSet:"Velg Sett",selectLanguage:"Spr√•k",setInfo:"Samler Sett",enterAnswer:"Skriv inn svaret ditt",submitAnswer:"Send Inn Svar",nextQuestion:"Neste Sp√∏rsm√•l",correct:"Riktig!",notQuite:"Ikke helt!",correctMessage:"Bra jobbet! Svaret var",incorrectMessage:"Du svarte",encouragement:"Pr√∏v igjen med neste sp√∏rsm√•l!",youWonThisCard:"Du vant dette kortet!",cardsCollected:"Kort Samlet",questionsAnswered:"Sp√∏rsm√•l Besvart",correctAnswers:"Riktige Svar",accuracy:"N√∏yaktighet",noCardsYet:"Ingen kort enn√•!",noCardsDescription:"Svar riktig p√• sp√∏rsm√•l for √• begynne √• bygge samlingen din.",exportBackup:"Eksporter Backup",importBackup:"Importer Backup",clearThisSet:"T√∏m Dette Settet",clearCollectionTitle:"T√∏m Samling?",clearCollectionMessage:"Er du sikker p√• at du vil t√∏mme hele samlingen din? Denne handlingen kan ikke angres.",cancel:"Avbryt",clearCollection:"T√∏m Samling",collectionExported:"Samling eksportert!",collectionImported:"Samling importert!",collectionCleared:"Samling t√∏mt!",exportFailed:"Kunne ikke eksportere samling",importFailed:"Kunne ikke importere samling",clearFailed:"Kunne ikke t√∏mme samling",hit:"treff",hits:"treff",loading:"Laster nytt sp√∏rsm√•l...",yourCollection:"Din Samling",language:"Spr√•k",gradeLevel:"Klassetrinn",damageQuestion:t=>`Din Pok√©mon gj√∏r ${t} skade hver runde. Hvor mange runder tar det √• beseire denne Pok√©monen?`,mathQuestion:(t,e,l)=>`Hva er ${t} ${l} ${e}?`}};function Gn(t){return Wn[t]}function Tl(t,e,l){const n=t.slice();return n[4]=e[l],n}function Pl(t){let e,l,n=t[0].rarity+"",s;return{c(){e=d("div"),l=d("span"),s=h(n),a(l,"class","rarity-badge svelte-1gymiiy"),a(e,"class","card-rarity svelte-1gymiiy")},m(o,i){M(o,e,i),r(e,l),r(l,s)},p(o,i){i&1&&n!==(n=o[0].rarity+"")&&q(s,n)},d(o){o&&A(e)}}}function Nl(t){let e,l,n,s=he(t[0].attacks),o=[];for(let i=0;i<s.length;i+=1)o[i]=Rl(Tl(t,s,i));return{c(){e=d("div"),l=d("h4"),l.textContent="Attacks:",n=k();for(let i=0;i<o.length;i+=1)o[i].c();a(l,"class","svelte-1gymiiy"),a(e,"class","card-attacks svelte-1gymiiy")},m(i,u){M(i,e,u),r(e,l),r(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null)},p(i,u){if(u&5){s=he(i[0].attacks);let f;for(f=0;f<s.length;f+=1){const c=Tl(i,s,f);o[f]?o[f].p(c,u):(o[f]=Rl(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(i){i&&A(e),We(o,i)}}}function Dl(t){let e,l=t[4].damage+"",n;return{c(){e=d("span"),n=h(l),a(e,"class","attack-damage svelte-1gymiiy")},m(s,o){M(s,e,o),r(e,n)},p(s,o){o&1&&l!==(l=s[4].damage+"")&&q(n,l)},d(s){s&&A(e)}}}function Rl(t){let e,l,n=t[4].name+"",s,o,i,u=t[4].damage&&Dl(t);return{c(){e=d("div"),l=d("span"),s=h(n),o=k(),u&&u.c(),i=k(),a(l,"class","attack-name svelte-1gymiiy"),a(e,"class","attack svelte-1gymiiy"),Z(e,"highlighted",t[2]===t[4].name)},m(f,c){M(f,e,c),r(e,l),r(l,s),r(e,o),u&&u.m(e,null),r(e,i)},p(f,c){c&1&&n!==(n=f[4].name+"")&&q(s,n),f[4].damage?u?u.p(f,c):(u=Dl(f),u.c(),u.m(e,i)):u&&(u.d(1),u=null),c&5&&Z(e,"highlighted",f[2]===f[4].name)},d(f){f&&A(e),u&&u.d()}}}function Jn(t){let e,l,n,s,o,i,u,f,c=t[0].name+"",m,p,v,g=t[3]&&t[0].rarity&&Pl(t),_=t[1]&&t[0].attacks&&t[0].attacks.length>0&&Nl(t);return{c(){e=d("div"),l=d("div"),n=d("img"),i=k(),u=d("div"),f=d("h3"),m=h(c),p=k(),g&&g.c(),v=k(),_&&_.c(),qe(n.src,s=t[0].image)||a(n,"src",s),a(n,"alt",o=t[0].name),a(n,"class","svelte-1gymiiy"),a(l,"class","card-image svelte-1gymiiy"),a(f,"class","card-name svelte-1gymiiy"),a(u,"class","card-info svelte-1gymiiy"),a(e,"class","pokemon-card svelte-1gymiiy")},m(b,S){M(b,e,S),r(e,l),r(l,n),r(e,i),r(e,u),r(u,f),r(f,m),r(u,p),g&&g.m(u,null),r(u,v),_&&_.m(u,null)},p(b,[S]){S&1&&!qe(n.src,s=b[0].image)&&a(n,"src",s),S&1&&o!==(o=b[0].name)&&a(n,"alt",o),S&1&&c!==(c=b[0].name+"")&&q(m,c),b[3]&&b[0].rarity?g?g.p(b,S):(g=Pl(b),g.c(),g.m(u,v)):g&&(g.d(1),g=null),b[1]&&b[0].attacks&&b[0].attacks.length>0?_?_.p(b,S):(_=Nl(b),_.c(),_.m(u,null)):_&&(_.d(1),_=null)},i:X,o:X,d(b){b&&A(e),g&&g.d(),_&&_.d()}}}function Zn(t,e,l){let{card:n}=e,{showAttacks:s=!1}=e,{highlightedAttack:o=null}=e,{showRarity:i=!1}=e;return t.$$set=u=>{"card"in u&&l(0,n=u.card),"showAttacks"in u&&l(1,s=u.showAttacks),"highlightedAttack"in u&&l(2,o=u.highlightedAttack),"showRarity"in u&&l(3,i=u.showRarity)},[n,s,o,i]}class Xn extends Xe{constructor(e){super(),Ze(this,e,Zn,Jn,Be,{card:0,showAttacks:1,highlightedAttack:2,showRarity:3})}}function jl(t){let e;return{c(){e=d("span"),e.textContent="1.",a(e,"class","question-number svelte-174fqld")},m(l,n){M(l,e,n)},d(l){l&&A(e)}}}function Fl(t){let e,l,n,s,o=t[0].secondQuestion+"",i,u,f,c,m,p,v;return{c(){e=d("div"),l=d("span"),l.textContent="2.",n=k(),s=d("h3"),i=h(o),u=k(),f=d("div"),c=d("input"),a(l,"class","question-number svelte-174fqld"),a(s,"class","question-text svelte-174fqld"),a(e,"class","question-item svelte-174fqld"),Qe(e,"padding-top","2em"),a(c,"type","number"),a(c,"placeholder",m=t[1].enterAnswer),a(c,"class","answer-input svelte-174fqld"),a(f,"class","input-group svelte-174fqld")},m(g,_){M(g,e,_),r(e,l),r(e,n),r(e,s),r(s,i),M(g,u,_),M(g,f,_),r(f,c),pe(c,t[3]),p||(v=[B(c,"input",t[8]),B(c,"keypress",t[5])],p=!0)},p(g,_){_&1&&o!==(o=g[0].secondQuestion+"")&&q(i,o),_&2&&m!==(m=g[1].enterAnswer)&&a(c,"placeholder",m),_&8&&Pt(c.value)!==g[3]&&pe(c,g[3])},d(g){g&&(A(e),A(u),A(f)),p=!1,ve(v)}}}function $n(t){let e,l,n,s,o,i,u,f,c,m=t[0].questionText+"",p,v,g,_,b,S,N,L,Q=t[1].submitAnswer+"",I,z,C,D,H;n=new Xn({props:{card:t[0].card,showRarity:!0}});let P=t[0].secondQuestion&&jl(),E=t[0].secondQuestion&&Fl(t);return{c(){e=d("div"),l=d("div"),it(n.$$.fragment),s=k(),o=d("div"),i=d("div"),u=d("div"),P&&P.c(),f=k(),c=d("h3"),p=h(m),v=k(),g=d("div"),_=d("input"),S=k(),E&&E.c(),N=k(),L=d("button"),I=h(Q),a(l,"class","card-display svelte-174fqld"),a(c,"class","question-text svelte-174fqld"),a(u,"class","question-item svelte-174fqld"),a(_,"type","number"),a(_,"placeholder",b=t[1].enterAnswer),a(_,"class","answer-input svelte-174fqld"),a(g,"class","input-group svelte-174fqld"),a(L,"class","submit-btn btn-primary svelte-174fqld"),Qe(L,"margin-top","2em"),L.disabled=z=!t[2]||t[0].secondQuestion&&!t[3],a(i,"class","questions-list svelte-174fqld"),a(o,"class","question-container svelte-174fqld"),a(e,"class","quiz-view svelte-174fqld")},m(T,O){M(T,e,O),r(e,l),Ge(n,l,null),r(e,s),r(e,o),r(o,i),r(i,u),P&&P.m(u,null),r(u,f),r(u,c),r(c,p),r(i,v),r(i,g),r(g,_),pe(_,t[2]),r(i,S),E&&E.m(i,null),r(i,N),r(i,L),r(L,I),C=!0,D||(H=[B(_,"input",t[7]),B(_,"keypress",t[5]),B(L,"click",t[4])],D=!0)},p(T,[O]){const U={};O&1&&(U.card=T[0].card),n.$set(U),T[0].secondQuestion?P||(P=jl(),P.c(),P.m(u,f)):P&&(P.d(1),P=null),(!C||O&1)&&m!==(m=T[0].questionText+"")&&q(p,m),(!C||O&2&&b!==(b=T[1].enterAnswer))&&a(_,"placeholder",b),O&4&&Pt(_.value)!==T[2]&&pe(_,T[2]),T[0].secondQuestion?E?E.p(T,O):(E=Fl(T),E.c(),E.m(i,N)):E&&(E.d(1),E=null),(!C||O&2)&&Q!==(Q=T[1].submitAnswer+"")&&q(I,Q),(!C||O&13&&z!==(z=!T[2]||T[0].secondQuestion&&!T[3]))&&(L.disabled=z)},i(T){C||(be(n.$$.fragment,T),C=!0)},o(T){Ae(n.$$.fragment,T),C=!1},d(T){T&&A(e),Je(n),P&&P.d(),E&&E.d(),D=!1,ve(H)}}}function xn(t,e,l){let{question:n}=e,{t:s}=e,{currentSet:o}=e;const i=Dt();let u="",f="";function c(){const g=parseInt(u,10);if(!isNaN(g))if(n.secondQuestion&&n.secondAnswer!==void 0){const _=parseInt(f,10);isNaN(_)||i("answer",{firstAnswer:g,secondAnswer:_})}else i("answer",{firstAnswer:g})}function m(g){g.key==="Enter"&&c()}function p(){u=Pt(this.value),l(2,u)}function v(){f=Pt(this.value),l(3,f)}return t.$$set=g=>{"question"in g&&l(0,n=g.question),"t"in g&&l(1,s=g.t),"currentSet"in g&&l(6,o=g.currentSet)},[n,s,u,f,c,m,o,p,v]}class es extends Xe{constructor(e){super(),Ze(this,e,xn,$n,Be,{question:0,t:1,currentSet:6})}}function ts(t){let e,l,n,s=t[4].notQuite+"",o,i,u,f=t[4].incorrectMessage+"",c,m,p,v,g,_=t[4].correctMessage.toLowerCase()+"",b,S,N,L,Q,I,z,C,D=t[4].encouragement+"",H,P=t[5]&&t[6]>0&&Bl(t);return{c(){e=d("div"),e.textContent="‚úó",l=k(),n=d("h2"),o=h(s),i=k(),u=d("p"),c=h(f),m=k(),p=d("strong"),v=h(t[2]),g=h(", "),b=h(_),S=k(),N=d("strong"),L=h(t[1]),Q=h("."),I=k(),P&&P.c(),z=k(),C=d("p"),H=h(D),a(e,"class","result-icon error svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(p,"class","svelte-1v74pgf"),a(N,"class","svelte-1v74pgf"),a(u,"class","result-message svelte-1v74pgf"),a(C,"class","encouragement svelte-1v74pgf")},m(E,T){M(E,e,T),M(E,l,T),M(E,n,T),r(n,o),M(E,i,T),M(E,u,T),r(u,c),r(u,m),r(u,p),r(p,v),r(u,g),r(u,b),r(u,S),r(u,N),r(N,L),r(u,Q),M(E,I,T),P&&P.m(E,T),M(E,z,T),M(E,C,T),r(C,H)},p(E,T){T&16&&s!==(s=E[4].notQuite+"")&&q(o,s),T&16&&f!==(f=E[4].incorrectMessage+"")&&q(c,f),T&4&&q(v,E[2]),T&16&&_!==(_=E[4].correctMessage.toLowerCase()+"")&&q(b,_),T&2&&q(L,E[1]),E[5]&&E[6]>0?P?P.p(E,T):(P=Bl(E),P.c(),P.m(z.parentNode,z)):P&&(P.d(1),P=null),T&16&&D!==(D=E[4].encouragement+"")&&q(H,D)},d(E){E&&(A(e),A(l),A(n),A(i),A(u),A(I),A(z),A(C)),P&&P.d(E)}}}function ls(t){let e,l,n,s=t[4].correct+"",o,i,u,f=t[4].correctMessage+"",c,m,p,v,g,_=(t[1]===1?t[4].hit:t[4].hits)+"",b,S,N,L,Q,I=t[5]&&!t[3]&&Ol(t),z=t[3]&&Vl(t);return{c(){e=d("div"),e.textContent="‚úì",l=k(),n=d("h2"),o=h(s),i=k(),u=d("p"),c=h(f),m=k(),p=d("strong"),v=h(t[1]),g=k(),b=h(_),S=h("!"),N=k(),I&&I.c(),L=k(),z&&z.c(),Q=nl(),a(e,"class","result-icon success svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(p,"class","svelte-1v74pgf"),a(u,"class","result-message svelte-1v74pgf")},m(C,D){M(C,e,D),M(C,l,D),M(C,n,D),r(n,o),M(C,i,D),M(C,u,D),r(u,c),r(u,m),r(u,p),r(p,v),r(u,g),r(u,b),r(u,S),M(C,N,D),I&&I.m(C,D),M(C,L,D),z&&z.m(C,D),M(C,Q,D)},p(C,D){D&16&&s!==(s=C[4].correct+"")&&q(o,s),D&16&&f!==(f=C[4].correctMessage+"")&&q(c,f),D&2&&q(v,C[1]),D&18&&_!==(_=(C[1]===1?C[4].hit:C[4].hits)+"")&&q(b,_),C[5]&&!C[3]?I?I.p(C,D):(I=Ol(C),I.c(),I.m(L.parentNode,L)):I&&(I.d(1),I=null),C[3]?z?z.p(C,D):(z=Vl(C),z.c(),z.m(Q.parentNode,Q)):z&&(z.d(1),z=null)},d(C){C&&(A(e),A(l),A(n),A(i),A(u),A(N),A(L),A(Q)),I&&I.d(C),z&&z.d(C)}}}function Bl(t){let e,l=t[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.",n;return{c(){e=d("p"),n=h(l),a(e,"class","streak-lost svelte-1v74pgf")},m(s,o){M(s,e,o),r(e,n)},p(s,o){o&16&&l!==(l=s[4].language==="Spr√•k"?"Streak reset! Try again.":"Rekke tilbakestilt! Pr√∏v igjen.")&&q(n,l)},d(s){s&&A(e)}}}function Ol(t){let e,l,n,s,o,i,u;function f(p,v){return p[7]===1?ss:ns}let c=f(t),m=c(t);return{c(){e=d("div"),l=d("p"),m.c(),n=k(),s=d("div"),o=d("div"),i=k(),u=d("div"),a(l,"class","streak-text svelte-1v74pgf"),a(o,"class","streak-dot svelte-1v74pgf"),Z(o,"filled",t[7]>=1),a(u,"class","streak-dot svelte-1v74pgf"),Z(u,"filled",t[7]>=2),a(s,"class","streak-progress svelte-1v74pgf"),a(e,"class","streak-info svelte-1v74pgf")},m(p,v){M(p,e,v),r(e,l),m.m(l,null),r(e,n),r(e,s),r(s,o),r(s,i),r(s,u)},p(p,v){c===(c=f(p))&&m?m.p(p,v):(m.d(1),m=c(p),m&&(m.c(),m.m(l,null))),v&128&&Z(o,"filled",p[7]>=1),v&128&&Z(u,"filled",p[7]>=2)},d(p){p&&A(e),m.d()}}}function ns(t){let e=t[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!",l;return{c(){l=h(e)},m(n,s){M(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"Get 2 correct answers to win this rare card!":"F√• 2 riktige svar for √• vinne dette sjeldne kortet!")&&q(l,e)},d(n){n&&A(l)}}}function ss(t){let e=t[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!",l;return{c(){l=h(e)},m(n,s){M(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Spr√•k"?"One more correct to win this card!":"√ân til riktig for √• vinne dette kortet!")&&q(l,e)},d(n){n&&A(l)}}}function Vl(t){let e,l,n=t[4].youWonThisCard+"",s,o,i,u,f,c,m,p,v,g=t[3].name+"",_;return{c(){e=d("div"),l=d("h3"),s=h(n),o=k(),i=d("div"),u=d("div"),f=d("img"),p=k(),v=d("span"),_=h(g),a(l,"class","svelte-1v74pgf"),qe(f.src,c=t[3].image)||a(f,"src",c),a(f,"alt",m=t[3].name),a(f,"class","svelte-1v74pgf"),a(v,"class","card-name svelte-1v74pgf"),a(u,"class","mini-card svelte-1v74pgf"),a(i,"class","cards-grid svelte-1v74pgf"),a(e,"class","won-cards svelte-1v74pgf")},m(b,S){M(b,e,S),r(e,l),r(l,s),r(e,o),r(e,i),r(i,u),r(u,f),r(u,p),r(u,v),r(v,_)},p(b,S){S&16&&n!==(n=b[4].youWonThisCard+"")&&q(s,n),S&8&&!qe(f.src,c=b[3].image)&&a(f,"src",c),S&8&&m!==(m=b[3].name)&&a(f,"alt",m),S&8&&g!==(g=b[3].name+"")&&q(_,g)},d(b){b&&A(e)}}}function rs(t){let e,l,n,s,o=t[4].nextQuestion+"",i,u,f;function c(v,g){return v[0]?ls:ts}let m=c(t),p=m(t);return{c(){e=d("div"),l=d("div"),p.c(),n=k(),s=d("button"),i=h(o),a(l,"class","result-card svelte-1v74pgf"),Z(l,"correct",t[0]),Z(l,"incorrect",!t[0]),a(s,"class","next-btn btn-primary svelte-1v74pgf"),a(e,"class","result-view svelte-1v74pgf")},m(v,g){M(v,e,g),r(e,l),p.m(l,null),r(e,n),r(e,s),r(s,i),u||(f=B(s,"click",t[8]),u=!0)},p(v,[g]){m===(m=c(v))&&p?p.p(v,g):(p.d(1),p=m(v),p&&(p.c(),p.m(l,null))),g&1&&Z(l,"correct",v[0]),g&1&&Z(l,"incorrect",!v[0]),g&16&&o!==(o=v[4].nextQuestion+"")&&q(i,o)},i:X,o:X,d(v){v&&A(e),p.d(),u=!1,f()}}}function os(t,e,l){let{isCorrect:n}=e,{correctAnswer:s}=e,{userAnswer:o}=e,{wonCard:i}=e,{t:u}=e,{needsStreak:f=!1}=e,{streakProgress:c=0}=e,{currentStreak:m=0}=e;const p=Dt();function v(){p("next")}return t.$$set=g=>{"isCorrect"in g&&l(0,n=g.isCorrect),"correctAnswer"in g&&l(1,s=g.correctAnswer),"userAnswer"in g&&l(2,o=g.userAnswer),"wonCard"in g&&l(3,i=g.wonCard),"t"in g&&l(4,u=g.t),"needsStreak"in g&&l(5,f=g.needsStreak),"streakProgress"in g&&l(6,c=g.streakProgress),"currentStreak"in g&&l(7,m=g.currentStreak)},[n,s,o,i,u,f,c,m,v]}class is extends Xe{constructor(e){super(),Ze(this,e,os,rs,Be,{isCorrect:0,correctAnswer:1,userAnswer:2,wonCard:3,t:4,needsStreak:5,streakProgress:6,currentStreak:7})}}function as(){try{const t=Bn(),e=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=`pokemon-collection-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}catch(t){throw console.error("Error downloading backup:",t),new Error("Failed to download backup")}}function cs(t){return new Promise(e=>{const l=new FileReader;l.onload=n=>{var s;try{const o=(s=n.target)==null?void 0:s.result,i=On(o);e(i)}catch(o){console.error("Error reading file:",o),e({success:!1,error:"Failed to read file"})}},l.onerror=()=>{e({success:!1,error:"Failed to read file"})},l.readAsText(t)})}function Hl(t,e,l){const n=t.slice();return n[41]=e[l],n}function Yl(t,e,l){const n=t.slice();return n[44]=e[l],n}function Kl(t,e,l){const n=t.slice();return n[41]=e[l],n}function Ul(t,e,l){const n=t.slice();return n[44]=e[l],n}function us(t,e,l){const n=t.slice();return n[51]=e[l],n}function fs(t){let e;return{c(){e=d("option"),e.textContent=`${t[51].name}`,e.__value=t[51].id,pe(e,e.__value),a(e,"class","svelte-11s90kq")},m(l,n){M(l,e,n)},p:X,d(l){l&&A(e)}}}function Wl(t){return{c:X,m:X,d:X}}function ds(t){let e=t[2]==="en"?`Defeat ${t[15]>0?t[15].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${t[15]>0?t[15].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`,l;return{c(){l=h(e)},m(n,s){M(n,l,s)},p(n,s){s[0]&32772&&e!==(e=n[2]==="en"?`Defeat ${n[15]>0?n[15].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${n[15]>0?n[15].toLocaleString():0} HP for √• l√•se opp 5 sjeldne kort`)&&q(l,e)},d(n){n&&A(l)}}}function ms(t){let e=t[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!",l;return{c(){l=h(e)},m(n,s){M(n,l,s)},p(n,s){s[0]&4&&e!==(e=n[2]==="en"?"Rare cards unlocked!":"Sjeldne kort l√•st opp!")&&q(l,e)},d(n){n&&A(l)}}}function Gl(t){let e,l;return{c(){e=d("div"),l=d("div"),a(l,"class","hp-progress-fill svelte-11s90kq"),Qe(l,"width",t[13]+"%"),a(e,"class","hp-progress-bar svelte-11s90kq")},m(n,s){M(n,e,s),r(e,l)},p(n,s){s[0]&8192&&Qe(l,"width",n[13]+"%")},d(n){n&&A(e)}}}function Jl(t){let e,l,n,s,o,i,u;function f(){return t[32](t[44])}return{c(){e=d("button"),l=d("img"),o=k(),qe(l.src,n=t[44].image)||a(l,"src",n),a(l,"alt",s=t[44].name),a(l,"class","svelte-11s90kq"),Z(l,"locked",!t[14]),a(e,"class","rare-thumbnail svelte-11s90kq"),Z(e,"unlocked",t[14])},m(c,m){M(c,e,m),r(e,l),r(e,o),i||(u=B(e,"click",f),i=!0)},p(c,m){t=c,m[0]&256&&!qe(l.src,n=t[44].image)&&a(l,"src",n),m[0]&256&&s!==(s=t[44].name)&&a(l,"alt",s),m[0]&16384&&Z(l,"locked",!t[14]),m[0]&16384&&Z(e,"unlocked",t[14])},d(c){c&&A(e),i=!1,u()}}}function gs(t){let e,l=he(t[6]),n=[];for(let s=0;s<l.length;s+=1)n[s]=xl(Yl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","cards-grid svelte-11s90kq")},m(s,o){M(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&134217792){l=he(s[6]);let i;for(i=0;i<l.length;i+=1){const u=Yl(s,l,i);n[i]?n[i].p(u,o):(n[i]=xl(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),We(n,s)}}}function ps(t){let e,l,n,s,o=t[1].noCardsYet+"",i,u,f,c=t[1].noCardsDescription+"",m;return{c(){e=d("div"),l=d("div"),l.textContent="üì¶",n=k(),s=d("h3"),i=h(o),u=k(),f=d("p"),m=h(c),a(l,"class","empty-icon svelte-11s90kq"),a(s,"class","svelte-11s90kq"),a(f,"class","svelte-11s90kq"),a(e,"class","empty-state svelte-11s90kq")},m(p,v){M(p,e,v),r(e,l),r(e,n),r(e,s),r(s,i),r(e,u),r(e,f),r(f,m)},p(p,v){v[0]&2&&o!==(o=p[1].noCardsYet+"")&&q(i,o),v[0]&2&&c!==(c=p[1].noCardsDescription+"")&&q(m,c)},d(p){p&&A(e)}}}function Zl(t){let e,l,n=t[44].hp+"",s;return{c(){e=d("span"),l=h("HP "),s=h(n),a(e,"class","hp svelte-11s90kq")},m(o,i){M(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&64&&n!==(n=o[44].hp+"")&&q(s,n)},d(o){o&&A(e)}}}function Xl(t){let e,l=he(t[44].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=$l(Kl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","types svelte-11s90kq")},m(s,o){M(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&64){l=he(s[44].types);let i;for(i=0;i<l.length;i+=1){const u=Kl(s,l,i);n[i]?n[i].p(u,o):(n[i]=$l(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),We(n,s)}}}function $l(t){let e,l=t[41]+"",n;return{c(){e=d("span"),n=h(l),a(e,"class","type svelte-11s90kq")},m(s,o){M(s,e,o),r(e,n)},p(s,o){o[0]&64&&l!==(l=s[41]+"")&&q(n,l)},d(s){s&&A(e)}}}function xl(t){let e,l,n,s,o,i,u,f=t[44].name+"",c,m,p,v,g,_,b=t[44].hp&&Zl(t),S=t[44].types&&t[44].types.length>0&&Xl(t);function N(){return t[33](t[44])}return{c(){e=d("button"),l=d("img"),o=k(),i=d("div"),u=d("h4"),c=h(f),m=k(),b&&b.c(),p=k(),S&&S.c(),v=k(),qe(l.src,n=t[44].image)||a(l,"src",n),a(l,"alt",s=t[44].name),a(l,"class","svelte-11s90kq"),a(u,"class","svelte-11s90kq"),a(i,"class","card-details svelte-11s90kq"),a(e,"class","collection-card svelte-11s90kq")},m(L,Q){M(L,e,Q),r(e,l),r(e,o),r(e,i),r(i,u),r(u,c),r(i,m),b&&b.m(i,null),r(i,p),S&&S.m(i,null),r(e,v),g||(_=B(e,"click",N),g=!0)},p(L,Q){t=L,Q[0]&64&&!qe(l.src,n=t[44].image)&&a(l,"src",n),Q[0]&64&&s!==(s=t[44].name)&&a(l,"alt",s),Q[0]&64&&f!==(f=t[44].name+"")&&q(c,f),t[44].hp?b?b.p(t,Q):(b=Zl(t),b.c(),b.m(i,p)):b&&(b.d(1),b=null),t[44].types&&t[44].types.length>0?S?S.p(t,Q):(S=Xl(t),S.c(),S.m(i,null)):S&&(S.d(1),S=null)},d(L){L&&A(e),b&&b.d(),S&&S.d(),g=!1,_()}}}function en(t){let e,l=t[10].text+"",n;return{c(){e=d("div"),n=h(l),a(e,"class","message svelte-11s90kq"),Z(e,"success",t[10].type==="success"),Z(e,"error",t[10].type==="error")},m(s,o){M(s,e,o),r(e,n)},p(s,o){o[0]&1024&&l!==(l=s[10].text+"")&&q(n,l),o[0]&1024&&Z(e,"success",s[10].type==="success"),o[0]&1024&&Z(e,"error",s[10].type==="error")},d(s){s&&A(e)}}}function tn(t){let e,l,n,s,o,i,u,f,c,m,p=t[7].name+"",v,g,_,b,S,N,L=t[7].hp&&ln(t),Q=t[7].types&&t[7].types.length>0&&nn(t),I=t[7].rarity&&rn(t);return{c(){e=d("div"),l=d("div"),n=d("button"),n.textContent="√ó",s=k(),o=d("img"),f=k(),c=d("div"),m=d("h3"),v=h(p),g=k(),L&&L.c(),_=k(),Q&&Q.c(),b=k(),I&&I.c(),a(n,"class","close-modal svelte-11s90kq"),qe(o.src,i=t[7].image)||a(o,"src",i),a(o,"alt",u=t[7].name),a(o,"class","modal-card-image svelte-11s90kq"),a(m,"class","svelte-11s90kq"),a(c,"class","modal-card-info svelte-11s90kq"),a(l,"class","card-modal svelte-11s90kq"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-11s90kq"),a(e,"role","button"),a(e,"tabindex","-1")},m(z,C){M(z,e,C),r(e,l),r(l,n),r(l,s),r(l,o),r(l,f),r(l,c),r(c,m),r(m,v),r(c,g),L&&L.m(c,null),r(c,_),Q&&Q.m(c,null),r(c,b),I&&I.m(c,null),S||(N=[B(n,"click",t[28]),B(l,"click",fn(t[31])),B(e,"click",t[28]),B(e,"keydown",t[35])],S=!0)},p(z,C){C[0]&128&&!qe(o.src,i=z[7].image)&&a(o,"src",i),C[0]&128&&u!==(u=z[7].name)&&a(o,"alt",u),C[0]&128&&p!==(p=z[7].name+"")&&q(v,p),z[7].hp?L?L.p(z,C):(L=ln(z),L.c(),L.m(c,_)):L&&(L.d(1),L=null),z[7].types&&z[7].types.length>0?Q?Q.p(z,C):(Q=nn(z),Q.c(),Q.m(c,b)):Q&&(Q.d(1),Q=null),z[7].rarity?I?I.p(z,C):(I=rn(z),I.c(),I.m(c,null)):I&&(I.d(1),I=null)},d(z){z&&A(e),L&&L.d(),Q&&Q.d(),I&&I.d(),S=!1,ve(N)}}}function ln(t){let e,l,n=t[7].hp+"",s;return{c(){e=d("div"),l=h("HP: "),s=h(n),a(e,"class","modal-hp svelte-11s90kq")},m(o,i){M(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&128&&n!==(n=o[7].hp+"")&&q(s,n)},d(o){o&&A(e)}}}function nn(t){let e,l=he(t[7].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=sn(Hl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","modal-types svelte-11s90kq")},m(s,o){M(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&128){l=he(s[7].types);let i;for(i=0;i<l.length;i+=1){const u=Hl(s,l,i);n[i]?n[i].p(u,o):(n[i]=sn(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&A(e),We(n,s)}}}function sn(t){let e,l=t[41]+"",n;return{c(){e=d("span"),n=h(l),a(e,"class","modal-type svelte-11s90kq")},m(s,o){M(s,e,o),r(e,n)},p(s,o){o[0]&128&&l!==(l=s[41]+"")&&q(n,l)},d(s){s&&A(e)}}}function rn(t){let e,l,n=t[7].rarity+"",s;return{c(){e=d("div"),l=h("Rarity: "),s=h(n),a(e,"class","modal-rarity svelte-11s90kq")},m(o,i){M(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&128&&n!==(n=o[7].rarity+"")&&q(s,n)},d(o){o&&A(e)}}}function on(t){let e,l,n,s=t[1].clearCollectionTitle+"",o,i,u,f=t[1].clearCollectionMessage+"",c,m,p,v,g=t[1].cancel+"",_,b,S,N=t[1].clearCollection+"",L,Q,I;return{c(){e=d("div"),l=d("div"),n=d("h3"),o=h(s),i=k(),u=d("p"),c=h(f),m=k(),p=d("div"),v=d("button"),_=h(g),b=k(),S=d("button"),L=h(N),a(n,"class","svelte-11s90kq"),a(u,"class","svelte-11s90kq"),a(v,"class","btn-secondary"),a(S,"class","btn-error"),a(p,"class","dialog-actions svelte-11s90kq"),a(l,"class","dialog svelte-11s90kq"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-11s90kq"),a(e,"role","button"),a(e,"tabindex","-1")},m(z,C){M(z,e,C),r(e,l),r(l,n),r(n,o),r(l,i),r(l,u),r(u,c),r(l,m),r(l,p),r(p,v),r(v,_),r(p,b),r(p,S),r(S,L),Q||(I=[B(v,"click",t[23]),B(S,"click",t[24]),B(l,"click",fn(t[30])),B(l,"keydown",_s),B(e,"click",t[23]),B(e,"keydown",t[36])],Q=!0)},p(z,C){C[0]&2&&s!==(s=z[1].clearCollectionTitle+"")&&q(o,s),C[0]&2&&f!==(f=z[1].clearCollectionMessage+"")&&q(c,f),C[0]&2&&g!==(g=z[1].cancel+"")&&q(_,g),C[0]&2&&N!==(N=z[1].clearCollection+"")&&q(L,N)},d(z){z&&A(e),Q=!1,ve(I)}}}function vs(t){let e,l,n,s,o,i=t[2]==="en"?`Collected: ${t[4]} / ${t[5]}`:`Samlet: ${t[4]} / ${t[5]}`,u,f,c,m,p,v,g,_,b,S,N,L,Q,I=t[0].cards.length+"",z,C,D,H=t[1].cardsCollected+"",P,E,T,O,U=t[0].stats.totalQuestions+"",ue,x,G,re=t[1].questionsAnswered+"",K,te,F,W,$=t[0].stats.correctAnswers+"",le,Me,fe,de=t[1].correctAnswers+"",ke,y,V,R,Y,ee,Le,ze,me=t[1].accuracy+"",$e,at,ne,Ie,Te,Oe,ht=(t[1].language||"Language")+"",jt,al,cl,Ee,Ve,He,ul,xe,et,kt=t[1].gradeLevel+"",Ft,fl,dl,_e,Pe,bt=t[1].gradeLevel+"",Bt,ml,Ne,wt=t[1].gradeLevel+"",Ot,gl,De,yt=t[1].gradeLevel+"",Vt,pl,Re,Ct=t[1].gradeLevel+"",Ht,vl,je,St=t[1].gradeLevel+"",Yt,_l,hl,we,ct,qt=t[1].exportBackup+"",Kt,kl,ut,At=t[1].importBackup+"",Ut,bl,ft,Mt=t[1].clearThisSet+"",Wt,wl,Ye,yl,Gt,dt,mt,Jt,Cl,Sl=he(It),Ke=[];for(let w=0;w<Sl.length;w+=1)Ke[w]=fs(us(t,Sl,w));let ge=t[12]>0&&Wl();function ql(w,j){return w[14]?ms:ds}let Lt=ql(t),ye=Lt(t),oe=!t[14]&&Gl(t),tt=he(t[8]),se=[];for(let w=0;w<tt.length;w+=1)se[w]=Jl(Ul(t,tt,w));function Al(w,j){return w[0].cards.length===0?ps:gs}let zt=Al(t),Ce=zt(t),ie=t[10]&&en(t),ae=t[7]&&tn(t),ce=t[11]&&on(t);return{c(){e=d("div"),l=d("div"),n=d("select");for(let w=0;w<Ke.length;w+=1)Ke[w].c();s=k(),o=d("div"),u=h(i),f=k(),ge&&ge.c(),c=k(),m=d("div"),p=d("div"),ye.c(),v=k(),oe&&oe.c(),g=k(),_=d("div");for(let w=0;w<se.length;w+=1)se[w].c();b=k(),Ce.c(),S=k(),N=d("div"),L=d("div"),Q=d("div"),z=h(I),C=k(),D=d("div"),P=h(H),E=k(),T=d("div"),O=d("div"),ue=h(U),x=k(),G=d("div"),K=h(re),te=k(),F=d("div"),W=d("div"),le=h($),Me=k(),fe=d("div"),ke=h(de),y=k(),V=d("div"),R=d("div"),Y=h(t[16]),ee=h("%"),Le=k(),ze=d("div"),$e=h(me),at=k(),ne=d("div"),Ie=d("div"),Te=d("div"),Oe=d("label"),jt=h(ht),al=h(":"),cl=k(),Ee=d("select"),Ve=d("option"),Ve.textContent="English",He=d("option"),He.textContent="Norsk",ul=k(),xe=d("div"),et=d("label"),Ft=h(kt),fl=h(":"),dl=k(),_e=d("select"),Pe=d("option"),Bt=h(bt),ml=h(" 1"),Ne=d("option"),Ot=h(wt),gl=h(" 2"),De=d("option"),Vt=h(yt),pl=h(" 3"),Re=d("option"),Ht=h(Ct),vl=h(" 4"),je=d("option"),Yt=h(St),_l=h(" 5"),hl=k(),we=d("div"),ct=d("button"),Kt=h(qt),kl=k(),ut=d("button"),Ut=h(At),bl=k(),ft=d("button"),Wt=h(Mt),wl=k(),Ye=d("input"),yl=k(),ie&&ie.c(),Gt=k(),ae&&ae.c(),dt=k(),ce&&ce.c(),mt=nl(),a(n,"class","set-selector svelte-11s90kq"),a(o,"class","set-counter svelte-11s90kq"),a(l,"class","set-selector-container svelte-11s90kq"),a(p,"class","rare-section-text svelte-11s90kq"),a(_,"class","rare-cards-thumbnails svelte-11s90kq"),a(m,"class","rare-cards-section svelte-11s90kq"),a(Q,"class","stat-value svelte-11s90kq"),a(D,"class","stat-label svelte-11s90kq"),a(L,"class","stat-card svelte-11s90kq"),a(O,"class","stat-value svelte-11s90kq"),a(G,"class","stat-label svelte-11s90kq"),a(T,"class","stat-card svelte-11s90kq"),a(W,"class","stat-value svelte-11s90kq"),a(fe,"class","stat-label svelte-11s90kq"),a(F,"class","stat-card svelte-11s90kq"),a(R,"class","stat-value svelte-11s90kq"),a(ze,"class","stat-label svelte-11s90kq"),a(V,"class","stat-card svelte-11s90kq"),a(N,"class","stats-section svelte-11s90kq"),a(Oe,"for","language-select"),a(Oe,"class","svelte-11s90kq"),Ve.__value="en",pe(Ve,Ve.__value),a(Ve,"class","svelte-11s90kq"),He.__value="no",pe(He,He.__value),a(He,"class","svelte-11s90kq"),a(Ee,"id","language-select"),a(Ee,"class","settings-selector svelte-11s90kq"),a(Te,"class","selector-group svelte-11s90kq"),a(et,"for","klassetrinn-select"),a(et,"class","svelte-11s90kq"),Pe.__value=1,pe(Pe,Pe.__value),a(Pe,"class","svelte-11s90kq"),Ne.__value=2,pe(Ne,Ne.__value),a(Ne,"class","svelte-11s90kq"),De.__value=3,pe(De,De.__value),a(De,"class","svelte-11s90kq"),Re.__value=4,pe(Re,Re.__value),a(Re,"class","svelte-11s90kq"),je.__value=5,pe(je,je.__value),a(je,"class","svelte-11s90kq"),a(_e,"id","klassetrinn-select"),a(_e,"class","settings-selector svelte-11s90kq"),a(xe,"class","selector-group svelte-11s90kq"),a(Ie,"class","settings-selectors svelte-11s90kq"),a(ct,"class","btn-secondary"),a(ut,"class","btn-secondary"),a(ft,"class","btn-error"),a(Ye,"type","file"),a(Ye,"accept",".json"),Qe(Ye,"display","none"),a(we,"class","functions-actions svelte-11s90kq"),a(ne,"class","functions-section svelte-11s90kq"),a(e,"class","collection-view svelte-11s90kq")},m(w,j){M(w,e,j),r(e,l),r(l,n);for(let J=0;J<Ke.length;J+=1)Ke[J]&&Ke[J].m(n,null);Fe(n,t[3]),r(l,s),r(l,o),r(o,u),r(o,f),ge&&ge.m(o,null),r(e,c),r(e,m),r(m,p),ye.m(p,null),r(m,v),oe&&oe.m(m,null),r(m,g),r(m,_);for(let J=0;J<se.length;J+=1)se[J]&&se[J].m(_,null);r(e,b),Ce.m(e,null),r(e,S),r(e,N),r(N,L),r(L,Q),r(Q,z),r(L,C),r(L,D),r(D,P),r(N,E),r(N,T),r(T,O),r(O,ue),r(T,x),r(T,G),r(G,K),r(N,te),r(N,F),r(F,W),r(W,le),r(F,Me),r(F,fe),r(fe,ke),r(N,y),r(N,V),r(V,R),r(R,Y),r(R,ee),r(V,Le),r(V,ze),r(ze,$e),r(e,at),r(e,ne),r(ne,Ie),r(Ie,Te),r(Te,Oe),r(Oe,jt),r(Oe,al),r(Te,cl),r(Te,Ee),r(Ee,Ve),r(Ee,He),Fe(Ee,t[2]),r(Ie,ul),r(Ie,xe),r(xe,et),r(et,Ft),r(et,fl),r(xe,dl),r(xe,_e),r(_e,Pe),r(Pe,Bt),r(Pe,ml),r(_e,Ne),r(Ne,Ot),r(Ne,gl),r(_e,De),r(De,Vt),r(De,pl),r(_e,Re),r(Re,Ht),r(Re,vl),r(_e,je),r(je,Yt),r(je,_l),Fe(_e,t[17]),r(ne,hl),r(ne,we),r(we,ct),r(ct,Kt),r(we,kl),r(we,ut),r(ut,Ut),r(we,bl),r(we,ft),r(ft,Wt),r(we,wl),r(we,Ye),t[34](Ye),r(e,yl),ie&&ie.m(e,null),M(w,Gt,j),ae&&ae.m(w,j),M(w,dt,j),ce&&ce.m(w,j),M(w,mt,j),Jt||(Cl=[B(n,"change",t[18]),B(Ee,"change",t[25]),B(_e,"change",t[26]),B(ct,"click",t[19]),B(ut,"click",t[20]),B(ft,"click",t[22]),B(Ye,"change",t[21])],Jt=!0)},p(w,j){if(j[0]&8&&Fe(n,w[3]),j[0]&52&&i!==(i=w[2]==="en"?`Collected: ${w[4]} / ${w[5]}`:`Samlet: ${w[4]} / ${w[5]}`)&&q(u,i),w[12]>0?ge||(ge=Wl(),ge.c(),ge.m(o,null)):ge&&(ge.d(1),ge=null),Lt===(Lt=ql(w))&&ye?ye.p(w,j):(ye.d(1),ye=Lt(w),ye&&(ye.c(),ye.m(p,null))),w[14]?oe&&(oe.d(1),oe=null):oe?oe.p(w,j):(oe=Gl(w),oe.c(),oe.m(m,g)),j[0]&134234368){tt=he(w[8]);let J;for(J=0;J<tt.length;J+=1){const Ml=Ul(w,tt,J);se[J]?se[J].p(Ml,j):(se[J]=Jl(Ml),se[J].c(),se[J].m(_,null))}for(;J<se.length;J+=1)se[J].d(1);se.length=tt.length}zt===(zt=Al(w))&&Ce?Ce.p(w,j):(Ce.d(1),Ce=zt(w),Ce&&(Ce.c(),Ce.m(e,S))),j[0]&1&&I!==(I=w[0].cards.length+"")&&q(z,I),j[0]&2&&H!==(H=w[1].cardsCollected+"")&&q(P,H),j[0]&1&&U!==(U=w[0].stats.totalQuestions+"")&&q(ue,U),j[0]&2&&re!==(re=w[1].questionsAnswered+"")&&q(K,re),j[0]&1&&$!==($=w[0].stats.correctAnswers+"")&&q(le,$),j[0]&2&&de!==(de=w[1].correctAnswers+"")&&q(ke,de),j[0]&65536&&q(Y,w[16]),j[0]&2&&me!==(me=w[1].accuracy+"")&&q($e,me),j[0]&2&&ht!==(ht=(w[1].language||"Language")+"")&&q(jt,ht),j[0]&4&&Fe(Ee,w[2]),j[0]&2&&kt!==(kt=w[1].gradeLevel+"")&&q(Ft,kt),j[0]&2&&bt!==(bt=w[1].gradeLevel+"")&&q(Bt,bt),j[0]&2&&wt!==(wt=w[1].gradeLevel+"")&&q(Ot,wt),j[0]&2&&yt!==(yt=w[1].gradeLevel+"")&&q(Vt,yt),j[0]&2&&Ct!==(Ct=w[1].gradeLevel+"")&&q(Ht,Ct),j[0]&2&&St!==(St=w[1].gradeLevel+"")&&q(Yt,St),j[0]&131072&&Fe(_e,w[17]),j[0]&2&&qt!==(qt=w[1].exportBackup+"")&&q(Kt,qt),j[0]&2&&At!==(At=w[1].importBackup+"")&&q(Ut,At),j[0]&2&&Mt!==(Mt=w[1].clearThisSet+"")&&q(Wt,Mt),w[10]?ie?ie.p(w,j):(ie=en(w),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null),w[7]?ae?ae.p(w,j):(ae=tn(w),ae.c(),ae.m(dt.parentNode,dt)):ae&&(ae.d(1),ae=null),w[11]?ce?ce.p(w,j):(ce=on(w),ce.c(),ce.m(mt.parentNode,mt)):ce&&(ce.d(1),ce=null)},i:X,o:X,d(w){w&&(A(e),A(Gt),A(dt),A(mt)),We(Ke,w),ge&&ge.d(),ye.d(),oe&&oe.d(),We(se,w),Ce.d(),t[34](null),ie&&ie.d(),ae&&ae.d(w),ce&&ce.d(w),Jt=!1,ve(Cl)}}}const _s=()=>{};function hs(t,e,l){let n,s,o,i,u,f,c,m,p,v;gt(t,Nt,y=>l(37,p=y)),gt(t,_t,y=>l(17,v=y));let{collection:g}=e,{t:_}=e,{language:b}=e,S=null,N=[],L=[],Q=p;mn(async()=>{await I()});async function I(){try{l(29,N=await ll(Q));const y=[...N].sort((V,R)=>{const Y=parseInt(V.localId||"0");return parseInt(R.localId||"0")-Y});l(8,L=y.slice(0,5))}catch(y){console.error("Error loading rare cards:",y)}}function z(y){const V=y.target;l(3,Q=V.value),I()}const C=Dt();let D,H=null,P=!1;function E(){try{as(),U(_.collectionExported,"success")}catch{U(_.exportFailed,"error")}}function T(){D.click()}async function O(y){var Y;const V=y.target,R=(Y=V.files)==null?void 0:Y[0];if(R){try{const ee=await cs(R);ee.success?(U(_.collectionImported,"success"),C("refresh")):U(ee.error||_.importFailed,"error")}catch{U(_.importFailed,"error")}V.value=""}}function U(y,V){l(10,H={text:y,type:V}),setTimeout(()=>{l(10,H=null)},3e3)}function ue(){l(11,P=!0)}function x(){l(11,P=!1)}function G(){try{Fn(),l(11,P=!1),U(_.collectionCleared,"success"),C("refresh")}catch{U(_.clearFailed,"error")}}function re(y){const V=y.target;C("languageChange",V.value)}function K(y){const V=y.target;_t.set(Number(V.value))}function te(y){l(7,S=y)}function F(){l(7,S=null)}function W(y){zl.call(this,t,y)}function $(y){zl.call(this,t,y)}const le=y=>te({...y,collectedAt:new Date().toISOString()}),Me=y=>te(y);function fe(y){xt[y?"unshift":"push"](()=>{D=y,l(9,D)})}const de=y=>y.key==="Escape"&&F(),ke=y=>y.key==="Escape"&&x();return t.$$set=y=>{"collection"in y&&l(0,g=y.collection),"t"in y&&l(1,_=y.t),"language"in y&&l(2,b=y.language)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(16,n=g.stats.totalQuestions>0?Math.round(g.stats.correctAnswers/g.stats.totalQuestions*100):0),t.$$.dirty[0]&1&&l(15,s=16e3-(g.stats.totalHpDefeated||0)),t.$$.dirty[0]&9&&l(14,o=g.unlockedRareSets&&g.unlockedRareSets[Q]||!1),t.$$.dirty[0]&1&&l(13,i=Math.min(g.stats.totalHpDefeated/16e3*100,100)),t.$$.dirty[0]&9&&l(6,u=g.cards.filter(y=>y.id.startsWith(Q+"-"))),t.$$.dirty[0]&64&&l(4,f=u.length),t.$$.dirty[0]&536870912&&l(5,c=N.length),t.$$.dirty[0]&48&&l(12,m=c-f)},[g,_,b,Q,f,c,u,S,L,D,H,P,m,i,o,s,n,v,z,E,T,O,ue,x,G,re,K,te,F,N,W,$,le,Me,fe,de,ke]}class ks extends Xe{constructor(e){super(),Ze(this,e,hs,vs,Be,{collection:0,t:1,language:2},null,[-1,-1])}}function bs(t){let e,l,n,s,o;return{c(){e=d("div"),l=d("div"),n=k(),s=d("p"),o=h(t[0]),a(l,"class","spinner svelte-1lxornd"),a(s,"class","svelte-1lxornd"),a(e,"class","loading-view svelte-1lxornd")},m(i,u){M(i,e,u),r(e,l),r(e,n),r(e,s),r(s,o)},p(i,[u]){u&1&&q(o,i[0])},i:X,o:X,d(i){i&&A(e)}}}function ws(t,e,l){let{message:n="Loading..."}=e;return t.$$set=s=>{"message"in s&&l(0,n=s.message)},[n]}class ys extends Xe{constructor(e){super(),Ze(this,e,ws,bs,Be,{message:0})}}function Cs(t){let e,l,n,s,o,i,u,f,c,m,p;return{c(){e=d("div"),l=d("div"),l.textContent="‚ö†Ô∏è",n=k(),s=d("h2"),s.textContent="Oops!",o=k(),i=d("p"),u=h(t[0]),f=k(),c=d("button"),c.textContent="Try Again",a(l,"class","error-icon svelte-na0xmw"),a(s,"class","svelte-na0xmw"),a(i,"class","svelte-na0xmw"),a(c,"class","btn-primary"),a(e,"class","error-view svelte-na0xmw")},m(v,g){M(v,e,g),r(e,l),r(e,n),r(e,s),r(e,o),r(e,i),r(i,u),r(e,f),r(e,c),m||(p=B(c,"click",t[1]),m=!0)},p(v,[g]){g&1&&q(u,v[0])},i:X,o:X,d(v){v&&A(e),m=!1,p()}}}function Ss(t,e,l){let{message:n="Something went wrong"}=e;const s=Dt();function o(){s("retry")}return t.$$set=i=>{"message"in i&&l(0,n=i.message)},[n,o]}class qs extends Xe{constructor(e){super(),Ze(this,e,Ss,Cs,Be,{message:0})}}const As=""+new URL("headerbackground.cL6tUhZr.png",import.meta.url).href;function Ms(t,e,l){const n=t.slice();return n[42]=e[l],n}function Ls(t){let e,l;return e=new ks({props:{collection:t[4],t:t[16],language:t[0]}}),e.$on("refresh",t[27]),e.$on("languageChange",t[29]),{c(){it(e.$$.fragment)},m(n,s){Ge(e,n,s),l=!0},p(n,s){const o={};s[0]&16&&(o.collection=n[4]),s[0]&65536&&(o.t=n[16]),s[0]&1&&(o.language=n[0]),e.$set(o)},i(n){l||(be(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function zs(t){let e,l,n,s;const o=[Ts,Is,Qs,Es],i=[];function u(f,c){return f[1]==="loading"?0:f[1]==="quiz"&&f[2]?1:f[1]==="result"&&f[2]?2:f[1]==="error"?3:-1}return~(e=u(t))&&(l=i[e]=o[e](t)),{c(){l&&l.c(),n=nl()},m(f,c){~e&&i[e].m(f,c),M(f,n,c),s=!0},p(f,c){let m=e;e=u(f),e===m?~e&&i[e].p(f,c):(l&&(pn(),Ae(i[m],1,1,()=>{i[m]=null}),vn()),~e?(l=i[e],l?l.p(f,c):(l=i[e]=o[e](f),l.c()),be(l,1),l.m(n.parentNode,n)):l=null)},i(f){s||(be(l),s=!0)},o(f){Ae(l),s=!1},d(f){f&&A(n),~e&&i[e].d(f)}}}function Es(t){let e,l;return e=new qs({props:{message:t[8]}}),e.$on("retry",t[24]),{c(){it(e.$$.fragment)},m(n,s){Ge(e,n,s),l=!0},p(n,s){const o={};s[0]&256&&(o.message=n[8]),e.$set(o)},i(n){l||(be(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Qs(t){let e,l;return e=new is({props:{isCorrect:t[5],correctAnswer:t[2].correctAnswer,userAnswer:t[6],wonCard:t[7],t:t[16],needsStreak:t[12],streakProgress:t[13],currentStreak:t[4].currentStreak||0}}),e.$on("next",t[23]),{c(){it(e.$$.fragment)},m(n,s){Ge(e,n,s),l=!0},p(n,s){const o={};s[0]&32&&(o.isCorrect=n[5]),s[0]&4&&(o.correctAnswer=n[2].correctAnswer),s[0]&64&&(o.userAnswer=n[6]),s[0]&128&&(o.wonCard=n[7]),s[0]&65536&&(o.t=n[16]),s[0]&4096&&(o.needsStreak=n[12]),s[0]&8192&&(o.streakProgress=n[13]),s[0]&16&&(o.currentStreak=n[4].currentStreak||0),e.$set(o)},i(n){l||(be(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Is(t){var m;let e,l,n,s,o,i,u,f=he(It),c=[];for(let p=0;p<f.length;p+=1)c[p]=Ps(Ms(t,f,p));return s=new es({props:{question:t[2],t:t[16],currentSet:((m=It.find(t[28]))==null?void 0:m.name)||""}}),s.$on("answer",t[22]),{c(){e=d("div"),l=d("select");for(let p=0;p<c.length;p+=1)c[p].c();n=k(),it(s.$$.fragment),a(l,"class","set-selector svelte-1mmoizy"),a(e,"class","set-selector-container svelte-1mmoizy")},m(p,v){M(p,e,v),r(e,l);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(l,null);Fe(l,t[17]),M(p,n,v),Ge(s,p,v),o=!0,i||(u=B(l,"change",t[18]),i=!0)},p(p,v){var _;(!o||v[0]&131072)&&Fe(l,p[17]);const g={};v[0]&4&&(g.question=p[2]),v[0]&65536&&(g.t=p[16]),v[0]&2048&&(g.currentSet=((_=It.find(p[28]))==null?void 0:_.name)||""),s.$set(g)},i(p){o||(be(s.$$.fragment,p),o=!0)},o(p){Ae(s.$$.fragment,p),o=!1},d(p){p&&(A(e),A(n)),We(c,p),Je(s,p),i=!1,u()}}}function Ts(t){let e,l;return e=new ys({props:{message:t[16].loading}}),{c(){it(e.$$.fragment)},m(n,s){Ge(e,n,s),l=!0},p(n,s){const o={};s[0]&65536&&(o.message=n[16].loading),e.$set(o)},i(n){l||(be(e.$$.fragment,n),l=!0)},o(n){Ae(e.$$.fragment,n),l=!1},d(n){Je(e,n)}}}function Ps(t){let e;return{c(){e=d("option"),e.textContent=`${t[42].name}`,e.__value=t[42].id,pe(e,e.__value),a(e,"class","svelte-1mmoizy")},m(l,n){M(l,e,n)},p:X,d(l){l&&A(e)}}}function an(t){let e,l;function n(i,u){return i[15]?Ns:Ds}let s=n(t),o=s(t);return{c(){e=d("div"),l=d("div"),o.c(),a(l,"class","dialog language-dialog svelte-1mmoizy"),a(e,"class","dialog-overlay svelte-1mmoizy"),a(e,"role","button"),a(e,"tabindex","-1")},m(i,u){M(i,e,u),r(e,l),o.m(l,null)},p(i,u){s===(s=n(i))&&o?o.p(i,u):(o.d(1),o=s(i),o&&(o.c(),o.m(l,null)))},d(i){i&&A(e),o.d()}}}function Ns(t){let e,l=t[14]==="en"?"Choose Grade Level":"Velg Klassetrinn",n,s,o,i=t[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsniv√•. Du kan endre dette n√•r som helst i Min samling.",u,f,c,m,p,v,g,_=t[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)",b,S,N,L,Q,I,z=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",C,D,H,P,E,T,O=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",U,ue,x,G,re,K,te=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",F,W,$,le,Me,fe,de=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",ke,y,V;return{c(){e=d("h2"),n=h(l),s=k(),o=d("p"),u=h(i),f=k(),c=d("div"),m=d("button"),p=d("span"),p.textContent="1",v=k(),g=d("span"),b=h(_),S=k(),N=d("button"),L=d("span"),L.textContent="2",Q=k(),I=d("span"),C=h(z),D=k(),H=d("button"),P=d("span"),P.textContent="3",E=k(),T=d("span"),U=h(O),ue=k(),x=d("button"),G=d("span"),G.textContent="4",re=k(),K=d("span"),F=h(te),W=k(),$=d("button"),le=d("span"),le.textContent="5",Me=k(),fe=d("span"),ke=h(de),a(e,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(p,"class","grade-number svelte-1mmoizy"),a(g,"class","grade-description svelte-1mmoizy"),a(m,"class","klassetrinn-btn svelte-1mmoizy"),a(L,"class","grade-number svelte-1mmoizy"),a(I,"class","grade-description svelte-1mmoizy"),a(N,"class","klassetrinn-btn svelte-1mmoizy"),a(P,"class","grade-number svelte-1mmoizy"),a(T,"class","grade-description svelte-1mmoizy"),a(H,"class","klassetrinn-btn svelte-1mmoizy"),a(G,"class","grade-number svelte-1mmoizy"),a(K,"class","grade-description svelte-1mmoizy"),a(x,"class","klassetrinn-btn svelte-1mmoizy"),a(le,"class","grade-number svelte-1mmoizy"),a(fe,"class","grade-description svelte-1mmoizy"),a($,"class","klassetrinn-btn svelte-1mmoizy"),a(c,"class","klassetrinn-buttons svelte-1mmoizy")},m(R,Y){M(R,e,Y),r(e,n),M(R,s,Y),M(R,o,Y),r(o,u),M(R,f,Y),M(R,c,Y),r(c,m),r(m,p),r(m,v),r(m,g),r(g,b),r(c,S),r(c,N),r(N,L),r(N,Q),r(N,I),r(I,C),r(c,D),r(c,H),r(H,P),r(H,E),r(H,T),r(T,U),r(c,ue),r(c,x),r(x,G),r(x,re),r(x,K),r(K,F),r(c,W),r(c,$),r($,le),r($,Me),r($,fe),r(fe,ke),y||(V=[B(m,"click",t[32]),B(N,"click",t[33]),B(H,"click",t[34]),B(x,"click",t[35]),B($,"click",t[36])],y=!0)},p(R,Y){Y[0]&16384&&l!==(l=R[14]==="en"?"Choose Grade Level":"Velg Klassetrinn")&&q(n,l),Y[0]&16384&&i!==(i=R[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsniv√•. Du kan endre dette n√•r som helst i Min samling.")&&q(u,i),Y[0]&16384&&_!==(_=R[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)")&&q(b,_),Y[0]&16384&&z!==(z=R[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(C,z),Y[0]&16384&&O!==(O=R[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(U,O),Y[0]&16384&&te!==(te=R[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(F,te),Y[0]&16384&&de!==(de=R[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(ke,de)},d(R){R&&(A(e),A(s),A(o),A(f),A(c)),y=!1,ve(V)}}}function Ds(t){let e,l=t[0]==="en"?"Choose Your Language":"Velkommen",n,s,o,i=t[0]==="en"?"You can change this anytime in My Collection":"hei dette er et matte spill for barn fra 1-7 og her skal du samle p√• pokemon kort og br√∏ve og. finne de super sjeldene gull kortene ved. og sl√• 16000 hp. Velg spr√•k, du kan endre dette n√•r som helst i Min samling",u,f,c,m,p,v,g,_;return{c(){e=d("h2"),n=h(l),s=k(),o=d("p"),u=h(i),f=k(),c=d("div"),m=d("button"),m.innerHTML='<span class="flag svelte-1mmoizy">üá¨üáß</span> <span>English</span>',p=k(),v=d("button"),v.innerHTML='<span class="flag svelte-1mmoizy">üá≥üá¥</span> <span>Norsk</span>',a(e,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(m,"class","language-btn svelte-1mmoizy"),a(v,"class","language-btn svelte-1mmoizy"),a(c,"class","language-buttons svelte-1mmoizy")},m(b,S){M(b,e,S),r(e,n),M(b,s,S),M(b,o,S),r(o,u),M(b,f,S),M(b,c,S),r(c,m),r(c,p),r(c,v),g||(_=[B(m,"click",t[30]),B(v,"click",t[31])],g=!0)},p(b,S){S[0]&1&&l!==(l=b[0]==="en"?"Choose Your Language":"Velkommen")&&q(n,l),S[0]&1&&i!==(i=b[0]==="en"?"You can change this anytime in My Collection":"hei dette er et matte spill for barn fra 1-7 og her skal du samle p√• pokemon kort og br√∏ve og. finne de super sjeldene gull kortene ved. og sl√• 16000 hp. Velg spr√•k, du kan endre dette n√•r som helst i Min samling")&&q(u,i)},d(b){b&&(A(e),A(s),A(o),A(f),A(c)),g=!1,ve(_)}}}function Rs(t){var te;let e,l,n,s,o=t[16].appTitle+"",i,u,f,c,m=t[16].playQuiz+"",p,v,g,_=t[16].myCollection+"",b,S,N=(((te=t[4])==null?void 0:te.cards.length)||0)+"",L,Q,I=t[3].length+"",z,C,D,H,P,E,T,O,U,ue;const x=[zs,Ls],G=[];function re(F,W){return F[9]==="quiz"?0:1}P=re(t),E=G[P]=x[P](t);let K=t[10]&&an(t);return{c(){e=d("div"),l=d("header"),n=d("div"),s=d("h1"),i=h(o),u=k(),f=d("nav"),c=d("button"),p=h(m),v=k(),g=d("button"),b=h(_),S=h(" ("),L=h(N),Q=h("/"),z=h(I),C=h(")"),D=k(),H=d("main"),E.c(),T=k(),K&&K.c(),a(s,"class","app-title svelte-1mmoizy"),a(c,"class","nav-btn svelte-1mmoizy"),Z(c,"active",t[9]==="quiz"),a(g,"class","nav-btn svelte-1mmoizy"),Z(g,"active",t[9]==="collection"),a(f,"class","svelte-1mmoizy"),a(n,"class","header-content svelte-1mmoizy"),a(l,"class","app-header svelte-1mmoizy"),Qe(l,"background-image","url("+As+")"),Qe(l,"background-size","cover"),Qe(l,"background-position","top center"),Qe(l,"background-repeat","no-repeat"),a(H,"class","svelte-1mmoizy"),a(e,"class","app svelte-1mmoizy")},m(F,W){M(F,e,W),r(e,l),r(l,n),r(n,s),r(s,i),r(n,u),r(n,f),r(f,c),r(c,p),r(f,v),r(f,g),r(g,b),r(g,S),r(g,L),r(g,Q),r(g,z),r(g,C),r(e,D),r(e,H),G[P].m(H,null),r(e,T),K&&K.m(e,null),O=!0,U||(ue=[B(c,"click",t[26]),B(g,"click",t[25])],U=!0)},p(F,W){var le;(!O||W[0]&65536)&&o!==(o=F[16].appTitle+"")&&q(i,o),(!O||W[0]&65536)&&m!==(m=F[16].playQuiz+"")&&q(p,m),(!O||W[0]&512)&&Z(c,"active",F[9]==="quiz"),(!O||W[0]&65536)&&_!==(_=F[16].myCollection+"")&&q(b,_),(!O||W[0]&16)&&N!==(N=(((le=F[4])==null?void 0:le.cards.length)||0)+"")&&q(L,N),(!O||W[0]&8)&&I!==(I=F[3].length+"")&&q(z,I),(!O||W[0]&512)&&Z(g,"active",F[9]==="collection");let $=P;P=re(F),P===$?G[P].p(F,W):(pn(),Ae(G[$],1,1,()=>{G[$]=null}),vn(),E=G[P],E?E.p(F,W):(E=G[P]=x[P](F),E.c()),be(E,1),E.m(H,null)),F[10]?K?K.p(F,W):(K=an(F),K.c(),K.m(e,null)):K&&(K.d(1),K=null)},i(F){O||(be(E),O=!0)},o(F){Ae(E),O=!1},d(F){F&&A(e),G[P].d(),K&&K.d(),U=!1,ve(ue)}}}function js(t,e,l){let n,s,o,i;gt(t,_t,y=>l(38,s=y)),gt(t,Tt,y=>l(0,o=y)),gt(t,Nt,y=>l(17,i=y));let u="loading",f=null,c=[],m,p=!1,v=0,g=0,_=null,b="",S="quiz",N=!1,L=i,Q=!1,I=0;mn(()=>{l(4,m=Se()),localStorage.getItem("tcg-seen-language-dialog")?T():l(10,N=!0)});function z(y){const V=y.target;Nt.set(V.value),l(11,L=V.value),l(3,c=[]),T()}function C(y){Tt.set(y)}let D="en",H=!1;function P(y){l(14,D=y),l(15,H=!0)}function E(y){Tt.set(D),_t.set(y),localStorage.setItem("tcg-seen-language-dialog","true"),l(10,N=!1),l(15,H=!1),T()}async function T(){var y;try{l(1,u="loading"),c.length===0&&l(3,c=await ll(L));const V=[...c].sort((ne,Ie)=>{const Te=parseInt(ne.localId||"0");return parseInt(Ie.localId||"0")-Te}),R=new Set(V.slice(0,5).map(ne=>ne.id)),Y=new Set(m.cards.map(ne=>ne.id)),ee=c.filter(ne=>!Y.has(ne.id)&&!R.has(ne.id));if(ee.length===0)throw new Error("Congratulations! You have collected all cards from this set!");const Le=Nn(ee),ze=await Pn(Le.id,L),me=((y=ze.rarity)==null?void 0:y.toLowerCase())||"common",$e=me!=="common"&&me!=="uncommon"&&me!=="rare"&&me!=="double rare",at=Yn(ze,n,$e,s);if(!at)throw new Error("Could not generate a valid question. Please try again.");l(12,Q=$e?!1:me!=="common"&&me!=="uncommon"&&me!=="rare"&&me!=="double rare"),m.streakCard&&m.streakCard.id===ze.id?l(13,I=m.currentStreak||0):l(13,I=0),l(2,f=at),l(1,u="quiz")}catch(V){console.error("Error loading question:",V),l(8,b=V instanceof Error?V.message:"Failed to load question"),l(1,u="error")}}async function O(){m.unlockedRareSets||l(4,m.unlockedRareSets={},m),!m.unlockedRareSets[L]&&m.stats.totalHpDefeated>=16e3&&(c.length===0&&l(3,c=await ll(L)),[...c].sort((R,Y)=>{const ee=parseInt(R.localId||"0");return parseInt(Y.localId||"0")-ee}).slice(0,5).forEach(R=>{const Y={id:R.id,name:R.name,image:R.image,hp:R.hp,types:R.types,rarity:R.rarity,collectedAt:new Date().toISOString()};m.cards.some(Le=>Le.id===R.id)||m.cards.push(Y)}),l(4,m.unlockedRareSets[L]=!0,m),ot(m))}function U(y){var R,Y;if(!f)return;l(6,v=y.detail.firstAnswer),g=y.detail.secondAnswer||0,l(5,p=Kn(f,v,g));const V=p&&f.card.hp?f.card.hp:0;if(jn(p,V),l(7,_=null),p){let ee=!1;if(Q&&!f.secondQuestion?(l(4,m=Se()),((R=m.streakCard)==null?void 0:R.id)===f.card.id?l(4,m.currentStreak=(m.currentStreak||0)+1,m):(l(4,m.streakCard=f.card,m),l(4,m.currentStreak=1,m)),m.currentStreak>=2&&(ee=!0,l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m)),ot(m)):ee=!0,ee){const Le={id:f.card.id,name:f.card.name,image:f.card.image,hp:f.card.hp,types:f.card.types,rarity:f.card.rarity,collectedAt:new Date().toISOString()};Rn(Le)&&l(7,_=f.card)}}else l(4,m=Se()),Q&&((Y=m.streakCard)==null?void 0:Y.id)===f.card.id&&(l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m),ot(m));l(4,m=Se()),p&&(O(),l(4,m=Se())),l(1,u="result")}function ue(){T()}function x(){T()}function G(){l(9,S="collection"),l(4,m=Se())}function re(){l(9,S="quiz")}function K(){l(4,m=Se())}const te=y=>y.id===L,F=y=>C(y.detail),W=()=>P("en"),$=()=>P("no"),le=()=>E(1),Me=()=>E(2),fe=()=>E(3),de=()=>E(4),ke=()=>E(5);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(16,n=Gn(o))},[o,u,f,c,m,p,v,_,b,S,N,L,Q,I,D,H,n,i,z,C,P,E,U,ue,x,G,re,K,te,F,W,$,le,Me,fe,de,ke]}class Fs extends Xe{constructor(e){super(),Ze(this,e,js,Rs,Be,{},null,[-1,-1])}}new Fs({target:document.getElementById("app")});
