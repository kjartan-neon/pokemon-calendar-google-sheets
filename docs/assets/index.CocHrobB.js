var En=Object.defineProperty;var Ln=(t,e,l)=>e in t?En(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var ll=(t,e,l)=>Ln(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}})();function ee(){}function _n(t){return t()}function Rl(){return Object.create(null)}function he(t){t.forEach(_n)}function kn(t){return typeof t=="function"}function Fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Nt;function Qe(t,e){return t===e?!0:(Nt||(Nt=document.createElement("a")),Nt.href=e,t===Nt.href)}function Tn(t){return Object.keys(t).length===0}function In(t,...e){if(t==null){for(const n of e)n(void 0);return ee}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ht(t,e,l){t.$$.on_destroy.push(In(e,l))}function r(t,e){t.appendChild(e)}function A(t,e,l){t.insertBefore(e,l||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function Ve(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function _(){return k(" ")}function cl(){return k("")}function H(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function bn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function a(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Ft(t){return t===""?null:+t}function Pn(t){return Array.from(t.childNodes)}function q(t,e){e=""+e,t.data!==e&&(t.data=e)}function pe(t,e){t.value=e??""}function ze(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function je(t,e,l){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function X(t,e,l){t.classList.toggle(e,!!l)}function Nn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let kt;function _t(t){kt=t}function wn(){if(!kt)throw new Error("Function called outside component initialization");return kt}function yn(t){wn().$$.on_mount.push(t)}function Ot(){const t=wn();return(e,l,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Nn(e,l,{cancelable:n});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function jl(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const it=[],rl=[];let at=[];const Fl=[],Dn=Promise.resolve();let ol=!1;function Rn(){ol||(ol=!0,Dn.then(Cn))}function il(t){at.push(t)}const nl=new Set;let rt=0;function Cn(){if(rt!==0)return;const t=kt;do{try{for(;rt<it.length;){const e=it[rt];rt++,_t(e),jn(e.$$)}}catch(e){throw it.length=0,rt=0,e}for(_t(null),it.length=0,rt=0;rl.length;)rl.pop()();for(let e=0;e<at.length;e+=1){const l=at[e];nl.has(l)||(nl.add(l),l())}at.length=0}while(it.length);for(;Fl.length;)Fl.pop()();ol=!1,nl.clear(),_t(t)}function jn(t){if(t.fragment!==null){t.update(),he(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(il)}}function Fn(t){const e=[],l=[];at.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),at=e}const Dt=new Set;let Ue;function Sn(){Ue={r:0,c:[],p:Ue}}function An(){Ue.r||he(Ue.c),Ue=Ue.p}function ye(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function Ee(t,e,l,n){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),Ue.c.push(()=>{Dt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function be(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ut(t){t&&t.c()}function We(t,e,l){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,l),il(()=>{const o=t.$$.on_mount.map(_n).filter(kn);t.$$.on_destroy?t.$$.on_destroy.push(...o):he(o),t.$$.on_mount=[]}),s.forEach(il)}function Ye(t,e){const l=t.$$;l.fragment!==null&&(Fn(l.after_update),he(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(it.push(t),Rn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ge(t,e,l,n,s,o,i=null,c=[-1]){const f=kt;_t(t);const u=t.$$={fragment:null,ctx:[],props:o,update:ee,not_equal:s,bound:Rl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Rl(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};i&&i(u.root);let m=!1;if(u.ctx=l?l(t,e.props||{},(g,p,...v)=>{const b=v.length?v[0]:p;return u.ctx&&s(u.ctx[g],u.ctx[g]=b)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](b),m&&Bn(t,g)),p}):[],u.update(),m=!0,he(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const g=Pn(e.target);u.fragment&&u.fragment.l(g),g.forEach(S)}else u.fragment&&u.fragment.c();e.intro&&ye(t.$$.fragment),We(t,e.target,e.anchor),Cn()}_t(f)}class Je{constructor(){ll(this,"$$");ll(this,"$$set")}$destroy(){Ye(this,1),this.$destroy=ee}$on(e,l){if(!kn(l))return ee;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Tn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const On="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(On);const Mn="https://api.tcgdex.net/v2/en";function qn(t,e){const l=t.split("-")[1];return`https://assets.tcgdex.net/en/${Hn(e)}/${e}/${l}/high.webp`}function Hn(t){return t.startsWith("swsh")?"swsh":t.startsWith("sv")?"sv":t.startsWith("me")?"base":"swsh"}async function al(t){try{const e=await fetch(`${Mn}/sets/${t}`);if(!e.ok)throw new Error("Failed to fetch cards from set");return((await e.json()).cards||[]).map(s=>({id:s.id,localId:s.localId,name:s.name,image:qn(s.id,t)}))}catch(e){throw console.error("Error fetching cards from set:",e),e}}async function Kn(t,e){try{const l=await fetch(`${Mn}/cards/${t}`);if(!l.ok)throw new Error("Failed to fetch card details");return{...await l.json(),image:qn(t,e)}}catch(l){throw console.error("Error fetching card details:",l),l}}function Un(t){const e=Math.floor(Math.random()*t.length);return t[e]}const ul="pokemon-tcg-collection",zn="2.0";function Vn(){return{totalQuestions:0,correctAnswers:0,incorrectAnswers:0,totalHpDefeated:0}}function sl(){return{cards:[],stats:Vn(),version:zn}}function qe(){try{const t=localStorage.getItem(ul);if(!t)return sl();const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?(console.warn("Invalid collection format, resetting..."),sl()):(e.stats.totalHpDefeated||(e.stats.totalHpDefeated=0),e.currentStreak||(e.currentStreak=0),e.unlockedRareSets||(e.unlockedRareSets={}),e)}catch(t){return console.error("Error loading collection from local storage:",t),sl()}}function ct(t){try{const e={...t,version:zn};localStorage.setItem(ul,JSON.stringify(e))}catch(e){throw console.error("Error saving collection to local storage:",e),new Error("Failed to save collection")}}function Wn(t){try{const e=qe();return e.cards.some(n=>n.id===t.id)?!1:(e.cards.push(t),ct(e),!0)}catch(e){return console.error("Error adding card to collection:",e),!1}}function Yn(t,e){try{const l=qe();l.stats.totalQuestions++,t?(l.stats.correctAnswers++,e&&(l.stats.totalHpDefeated+=e)):l.stats.incorrectAnswers++,ct(l)}catch(l){console.error("Error updating stats:",l)}}function Gn(){try{localStorage.removeItem(ul)}catch(t){console.error("Error clearing collection:",t)}}function Jn(){const t=qe();return JSON.stringify(t,null,2)}function Zn(t){try{const e=JSON.parse(t);return!e.version||!Array.isArray(e.cards)||!e.stats?{success:!1,error:"Invalid collection format"}:!e.stats.totalQuestions===void 0||!e.stats.correctAnswers===void 0||!e.stats.incorrectAnswers===void 0?{success:!1,error:"Invalid stats format"}:(ct(e),{success:!0})}catch(e){return console.error("Error importing collection:",e),{success:!1,error:"Failed to parse JSON file"}}}function Bl(t){const e=Math.floor(Math.random()*9)+1,l=Math.floor(Math.random()*9)+1,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function Ol(t){const e=["+","-"],l=e[Math.floor(Math.random()*e.length)];let n,s;if(l==="+"){const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i,s=t.mathQuestion(o,i,"+")}else{const o=Math.floor(Math.random()*50)+10,i=Math.floor(Math.random()*50)+10;n=o+i;const c=n;n=o,s=t.mathQuestion(c,i,"-")}return{question:s,answer:n}}function Xn(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=["+","-"],s=n[Math.floor(Math.random()*n.length)];let o,i;if(s==="+")o=e+l,i=t.mathQuestion(e,l,"+");else{o=e+l;const c=o;o=e,i=t.mathQuestion(c,l,"-")}return{question:i,answer:o}}function $n(t){const e=Math.floor(Math.random()*50)+10,l=Math.floor(Math.random()*50)+10,n=e+l;return{question:t.mathQuestion(e,l,"+"),answer:n}}function xn(t,e,l=!1,n=4){if(!t)return null;let s,o,i=!1,c,f;if(n===1){const u=Bl(e);s=u.question,o=u.answer}else if(n===2||n===3){const u=Ol(e);s=u.question,o=u.answer}else if(t.hp&&t.hp>0){i=!0;const u=[10,20,30,40,50,60,60,80,120,300][Math.floor(Math.random()*5)];o=Math.ceil(t.hp/u),s=e.damageQuestion(u)}else{const u=Xn(e);s=u.question,o=u.answer}if(l)if(n===1){const u=Bl(e);c=u.question,f=u.answer}else if(n===2||n===3){const u=Ol(e);c=u.question,f=u.answer}else{const u=$n(e);c=u.question,f=u.answer}return{card:t,questionText:s,correctAnswer:o,isPokemon:i,secondQuestion:c,secondAnswer:f}}function es(t,e,l){const n=e===t.correctAnswer;if(t.secondQuestion&&t.secondAnswer!==void 0){const s=l===t.secondAnswer;return n&&s}return n}const ot=[];function fl(t,e=ee){let l;const n=new Set;function s(c){if(Fe(t,c)&&(t=c,l)){const f=!ot.length;for(const u of n)u[1](),ot.push(u,t);if(f){for(let u=0;u<ot.length;u+=2)ot[u][0](ot[u+1]);ot.length=0}}}function o(c){s(c(t))}function i(c,f=ee){const u=[c,f];return n.add(u),n.size===1&&(l=e(s,o)||ee),c(t),()=>{n.delete(u),n.size===0&&l&&(l(),l=null)}}return{set:s,update:o,subscribe:i}}const Rt=[{id:"swsh3",name:"Sword & Shield - Darkness Ablaze"},{id:"sv05",name:"Scarlet & Violet - Temporal Forces"},{id:"sv06.5",name:"Scarlet & Violet - Shrouded Fable"}],Qn="tcg-math-settings";function ts(){return{language:"en",selectedSet:"swsh3",klassetrinn:4}}function Ht(){try{const t=localStorage.getItem(Qn);if(t){const e=JSON.parse(t);return{language:e.language||"en",selectedSet:e.selectedSet||"swsh3",klassetrinn:e.klassetrinn||4}}}catch(t){console.error("Error loading settings:",t)}return ts()}function dl(t){try{localStorage.setItem(Qn,JSON.stringify(t))}catch(e){console.error("Error saving settings:",e)}}const ml=Ht(),jt=fl(ml.language),Bt=fl(ml.selectedSet),bt=fl(ml.klassetrinn);jt.subscribe(t=>{const e=Ht();dl({...e,language:t})});Bt.subscribe(t=>{const e=Ht();dl({...e,selectedSet:t})});bt.subscribe(t=>{const e=Ht();dl({...e,klassetrinn:t})});const ls={en:{appTitle:"16k Pokemon Math Challenge",quizTitle:"TCG Math Challenge",playQuiz:"Play Quiz",myCollection:"My Collection",selectSet:"Select Set",selectLanguage:"Language",setInfo:"Collecting Set",enterAnswer:"Enter your answer",submitAnswer:"Submit Answer",nextQuestion:"Next Question",correct:"Correct!",notQuite:"Not quite!",correctMessage:"Great job! The answer was",incorrectMessage:"You answered",encouragement:"Try again with the next question!",youWonThisCard:"You won this card!",cardsCollected:"Cards Collected",questionsAnswered:"Questions Answered",correctAnswers:"Correct Answers",accuracy:"Accuracy",noCardsYet:"No cards yet!",noCardsDescription:"Answer questions correctly to start building your collection.",exportBackup:"Export Backup",importBackup:"Import Backup",clearThisSet:"Clear This Set",clearCollectionTitle:"Clear Collection?",clearCollectionMessage:"Are you sure you want to clear your entire collection? This action cannot be undone.",cancel:"Cancel",clearCollection:"Clear Collection",collectionExported:"Collection exported successfully!",collectionImported:"Collection imported successfully!",collectionCleared:"Collection cleared successfully!",exportFailed:"Failed to export collection",importFailed:"Failed to import collection",clearFailed:"Failed to clear collection",hit:"hit",hits:"hits",loading:"Loading new question...",yourCollection:"Your Collection",language:"Language",gradeLevel:"Grade Level",damageQuestion:t=>`Your Pokémon deals ${t} damage each turn. How many turns does it take to defeat this Pokémon?`,mathQuestion:(t,e,l)=>`What is ${t} ${l} ${e}?`},no:{appTitle:"16k Pokémon Matteutfordring",quizTitle:"TCG Matte Utfordring",playQuiz:"Spill Quiz",myCollection:"Min Samling",selectSet:"Velg Sett",selectLanguage:"Språk",setInfo:"Samler Sett",enterAnswer:"Skriv inn svaret ditt",submitAnswer:"Send Inn Svar",nextQuestion:"Neste Spørsmål",correct:"Riktig!",notQuite:"Ikke helt!",correctMessage:"Bra jobbet! Svaret var",incorrectMessage:"Du svarte",encouragement:"Prøv igjen med neste spørsmål!",youWonThisCard:"Du vant dette kortet!",cardsCollected:"Kort Samlet",questionsAnswered:"Spørsmål Besvart",correctAnswers:"Riktige Svar",accuracy:"Nøyaktighet",noCardsYet:"Ingen kort ennå!",noCardsDescription:"Svar riktig på spørsmål for å begynne å bygge samlingen din.",exportBackup:"Eksporter Backup",importBackup:"Importer Backup",clearThisSet:"Tøm Dette Settet",clearCollectionTitle:"Tøm Samling?",clearCollectionMessage:"Er du sikker på at du vil tømme hele samlingen din? Denne handlingen kan ikke angres.",cancel:"Avbryt",clearCollection:"Tøm Samling",collectionExported:"Samling eksportert!",collectionImported:"Samling importert!",collectionCleared:"Samling tømt!",exportFailed:"Kunne ikke eksportere samling",importFailed:"Kunne ikke importere samling",clearFailed:"Kunne ikke tømme samling",hit:"treff",hits:"treff",loading:"Laster nytt spørsmål...",yourCollection:"Din Samling",language:"Språk",gradeLevel:"Klassetrinn",damageQuestion:t=>`Din Pokémon gjør ${t} skade hver runde. Hvor mange runder tar det å beseire denne Pokémonen?`,mathQuestion:(t,e,l)=>`Hva er ${t} ${l} ${e}?`}};function ns(t){return ls[t]}function Hl(t,e,l){const n=t.slice();return n[4]=e[l],n}function Kl(t){let e,l,n=t[0].rarity+"",s;return{c(){e=d("div"),l=d("span"),s=k(n),a(l,"class","rarity-badge svelte-1gymiiy"),a(e,"class","card-rarity svelte-1gymiiy")},m(o,i){A(o,e,i),r(e,l),r(l,s)},p(o,i){i&1&&n!==(n=o[0].rarity+"")&&q(s,n)},d(o){o&&S(e)}}}function Ul(t){let e,l,n,s=be(t[0].attacks),o=[];for(let i=0;i<s.length;i+=1)o[i]=Wl(Hl(t,s,i));return{c(){e=d("div"),l=d("h4"),l.textContent="Attacks:",n=_();for(let i=0;i<o.length;i+=1)o[i].c();a(l,"class","svelte-1gymiiy"),a(e,"class","card-attacks svelte-1gymiiy")},m(i,c){A(i,e,c),r(e,l),r(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null)},p(i,c){if(c&5){s=be(i[0].attacks);let f;for(f=0;f<s.length;f+=1){const u=Hl(i,s,f);o[f]?o[f].p(u,c):(o[f]=Wl(u),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=s.length}},d(i){i&&S(e),Ve(o,i)}}}function Vl(t){let e,l=t[4].damage+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","attack-damage svelte-1gymiiy")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o&1&&l!==(l=s[4].damage+"")&&q(n,l)},d(s){s&&S(e)}}}function Wl(t){let e,l,n=t[4].name+"",s,o,i,c=t[4].damage&&Vl(t);return{c(){e=d("div"),l=d("span"),s=k(n),o=_(),c&&c.c(),i=_(),a(l,"class","attack-name svelte-1gymiiy"),a(e,"class","attack svelte-1gymiiy"),X(e,"highlighted",t[2]===t[4].name)},m(f,u){A(f,e,u),r(e,l),r(l,s),r(e,o),c&&c.m(e,null),r(e,i)},p(f,u){u&1&&n!==(n=f[4].name+"")&&q(s,n),f[4].damage?c?c.p(f,u):(c=Vl(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),u&5&&X(e,"highlighted",f[2]===f[4].name)},d(f){f&&S(e),c&&c.d()}}}function ss(t){let e,l,n,s,o,i,c,f,u=t[0].name+"",m,g,p,v=t[3]&&t[0].rarity&&Kl(t),b=t[1]&&t[0].attacks&&t[0].attacks.length>0&&Ul(t);return{c(){e=d("div"),l=d("div"),n=d("img"),i=_(),c=d("div"),f=d("h3"),m=k(u),g=_(),v&&v.c(),p=_(),b&&b.c(),Qe(n.src,s=t[0].image)||a(n,"src",s),a(n,"alt",o=t[0].name),a(n,"class","svelte-1gymiiy"),a(l,"class","card-image svelte-1gymiiy"),a(f,"class","card-name svelte-1gymiiy"),a(c,"class","card-info svelte-1gymiiy"),a(e,"class","pokemon-card svelte-1gymiiy")},m(h,y){A(h,e,y),r(e,l),r(l,n),r(e,i),r(e,c),r(c,f),r(f,m),r(c,g),v&&v.m(c,null),r(c,p),b&&b.m(c,null)},p(h,[y]){y&1&&!Qe(n.src,s=h[0].image)&&a(n,"src",s),y&1&&o!==(o=h[0].name)&&a(n,"alt",o),y&1&&u!==(u=h[0].name+"")&&q(m,u),h[3]&&h[0].rarity?v?v.p(h,y):(v=Kl(h),v.c(),v.m(c,p)):v&&(v.d(1),v=null),h[1]&&h[0].attacks&&h[0].attacks.length>0?b?b.p(h,y):(b=Ul(h),b.c(),b.m(c,null)):b&&(b.d(1),b=null)},i:ee,o:ee,d(h){h&&S(e),v&&v.d(),b&&b.d()}}}function rs(t,e,l){let{card:n}=e,{showAttacks:s=!1}=e,{highlightedAttack:o=null}=e,{showRarity:i=!1}=e;return t.$$set=c=>{"card"in c&&l(0,n=c.card),"showAttacks"in c&&l(1,s=c.showAttacks),"highlightedAttack"in c&&l(2,o=c.highlightedAttack),"showRarity"in c&&l(3,i=c.showRarity)},[n,s,o,i]}class os extends Je{constructor(e){super(),Ge(this,e,rs,ss,Fe,{card:0,showAttacks:1,highlightedAttack:2,showRarity:3})}}function Yl(t){let e;return{c(){e=d("span"),e.textContent="1.",a(e,"class","question-number svelte-174fqld")},m(l,n){A(l,e,n)},d(l){l&&S(e)}}}function Gl(t){let e,l,n,s,o=t[0].secondQuestion+"",i,c,f,u,m,g,p;return{c(){e=d("div"),l=d("span"),l.textContent="2.",n=_(),s=d("h3"),i=k(o),c=_(),f=d("div"),u=d("input"),a(l,"class","question-number svelte-174fqld"),a(s,"class","question-text svelte-174fqld"),a(e,"class","question-item svelte-174fqld"),ze(e,"padding-top","2em"),a(u,"type","number"),a(u,"placeholder",m=t[1].enterAnswer),a(u,"class","answer-input svelte-174fqld"),a(f,"class","input-group svelte-174fqld")},m(v,b){A(v,e,b),r(e,l),r(e,n),r(e,s),r(s,i),A(v,c,b),A(v,f,b),r(f,u),pe(u,t[3]),g||(p=[H(u,"input",t[8]),H(u,"keypress",t[5])],g=!0)},p(v,b){b&1&&o!==(o=v[0].secondQuestion+"")&&q(i,o),b&2&&m!==(m=v[1].enterAnswer)&&a(u,"placeholder",m),b&8&&Ft(u.value)!==v[3]&&pe(u,v[3])},d(v){v&&(S(e),S(c),S(f)),g=!1,he(p)}}}function is(t){let e,l,n,s,o,i,c,f,u,m=t[0].questionText+"",g,p,v,b,h,y,D,Q,E=t[1].submitAnswer+"",L,z,M,N,O,P,T;n=new os({props:{card:t[0].card,showRarity:!0}});let I=t[0].secondQuestion&&Yl(),F=t[0].secondQuestion&&Gl(t);return{c(){e=d("div"),l=d("div"),ut(n.$$.fragment),s=_(),o=d("div"),i=d("div"),c=d("div"),I&&I.c(),f=_(),u=d("h3"),g=k(m),p=_(),v=d("div"),b=d("input"),y=_(),F&&F.c(),D=_(),Q=d("button"),L=k(E),M=_(),N=d("a"),N.innerHTML='<img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=8a579qzwg3m7e55xdnrwxqlhshnb21xd" border="0" title="page counter" alt="page counter" style="width: 20px;"/>',a(l,"class","card-display svelte-174fqld"),a(u,"class","question-text svelte-174fqld"),a(c,"class","question-item svelte-174fqld"),a(b,"type","number"),a(b,"placeholder",h=t[1].enterAnswer),a(b,"class","answer-input svelte-174fqld"),a(v,"class","input-group svelte-174fqld"),a(Q,"class","submit-btn btn-primary svelte-174fqld"),ze(Q,"margin-top","2em"),Q.disabled=z=!t[2]||t[0].secondQuestion&&!t[3],a(i,"class","questions-list svelte-174fqld"),a(o,"class","question-container svelte-174fqld"),a(e,"class","quiz-view svelte-174fqld"),a(N,"href","https://www.freecounterstat.com"),a(N,"title","page counter")},m(B,G){A(B,e,G),r(e,l),We(n,l,null),r(e,s),r(e,o),r(o,i),r(i,c),I&&I.m(c,null),r(c,f),r(c,u),r(u,g),r(i,p),r(i,v),r(v,b),pe(b,t[2]),r(i,y),F&&F.m(i,null),r(i,D),r(i,Q),r(Q,L),A(B,M,G),A(B,N,G),O=!0,P||(T=[H(b,"input",t[7]),H(b,"keypress",t[5]),H(Q,"click",t[4])],P=!0)},p(B,[G]){const Y={};G&1&&(Y.card=B[0].card),n.$set(Y),B[0].secondQuestion?I||(I=Yl(),I.c(),I.m(c,f)):I&&(I.d(1),I=null),(!O||G&1)&&m!==(m=B[0].questionText+"")&&q(g,m),(!O||G&2&&h!==(h=B[1].enterAnswer))&&a(b,"placeholder",h),G&4&&Ft(b.value)!==B[2]&&pe(b,B[2]),B[0].secondQuestion?F?F.p(B,G):(F=Gl(B),F.c(),F.m(i,D)):F&&(F.d(1),F=null),(!O||G&2)&&E!==(E=B[1].submitAnswer+"")&&q(L,E),(!O||G&13&&z!==(z=!B[2]||B[0].secondQuestion&&!B[3]))&&(Q.disabled=z)},i(B){O||(ye(n.$$.fragment,B),O=!0)},o(B){Ee(n.$$.fragment,B),O=!1},d(B){B&&(S(e),S(M),S(N)),Ye(n),I&&I.d(),F&&F.d(),P=!1,he(T)}}}function as(t,e,l){let{question:n}=e,{t:s}=e,{currentSet:o}=e;const i=Ot();let c="",f="";function u(){const v=parseInt(c,10);if(!isNaN(v))if(n.secondQuestion&&n.secondAnswer!==void 0){const b=parseInt(f,10);isNaN(b)||i("answer",{firstAnswer:v,secondAnswer:b})}else i("answer",{firstAnswer:v})}function m(v){v.key==="Enter"&&u()}function g(){c=Ft(this.value),l(2,c)}function p(){f=Ft(this.value),l(3,f)}return t.$$set=v=>{"question"in v&&l(0,n=v.question),"t"in v&&l(1,s=v.t),"currentSet"in v&&l(6,o=v.currentSet)},[n,s,c,f,u,m,o,g,p]}class cs extends Je{constructor(e){super(),Ge(this,e,as,is,Fe,{question:0,t:1,currentSet:6})}}function us(t){let e,l,n,s=t[4].notQuite+"",o,i,c,f=t[4].incorrectMessage+"",u,m,g,p,v,b=t[4].correctMessage.toLowerCase()+"",h,y,D,Q,E,L,z,M,N=t[4].encouragement+"",O,P=t[5]&&t[6]>0&&Jl(t);return{c(){e=d("div"),e.textContent="✗",l=_(),n=d("h2"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("strong"),p=k(t[2]),v=k(", "),h=k(b),y=_(),D=d("strong"),Q=k(t[1]),E=k("."),L=_(),P&&P.c(),z=_(),M=d("p"),O=k(N),a(e,"class","result-icon error svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(g,"class","svelte-1v74pgf"),a(D,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf"),a(M,"class","encouragement svelte-1v74pgf")},m(T,I){A(T,e,I),A(T,l,I),A(T,n,I),r(n,o),A(T,i,I),A(T,c,I),r(c,u),r(c,m),r(c,g),r(g,p),r(c,v),r(c,h),r(c,y),r(c,D),r(D,Q),r(c,E),A(T,L,I),P&&P.m(T,I),A(T,z,I),A(T,M,I),r(M,O)},p(T,I){I&16&&s!==(s=T[4].notQuite+"")&&q(o,s),I&16&&f!==(f=T[4].incorrectMessage+"")&&q(u,f),I&4&&q(p,T[2]),I&16&&b!==(b=T[4].correctMessage.toLowerCase()+"")&&q(h,b),I&2&&q(Q,T[1]),T[5]&&T[6]>0?P?P.p(T,I):(P=Jl(T),P.c(),P.m(z.parentNode,z)):P&&(P.d(1),P=null),I&16&&N!==(N=T[4].encouragement+"")&&q(O,N)},d(T){T&&(S(e),S(l),S(n),S(i),S(c),S(L),S(z),S(M)),P&&P.d(T)}}}function fs(t){let e,l,n,s=t[4].correct+"",o,i,c,f=t[4].correctMessage+"",u,m,g,p,v,b=(t[1]===1?t[4].hit:t[4].hits)+"",h,y,D,Q,E,L=t[5]&&!t[3]&&Zl(t),z=t[3]&&Xl(t);return{c(){e=d("div"),e.textContent="✓",l=_(),n=d("h2"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("strong"),p=k(t[1]),v=_(),h=k(b),y=k("!"),D=_(),L&&L.c(),Q=_(),z&&z.c(),E=cl(),a(e,"class","result-icon success svelte-1v74pgf"),a(n,"class","result-title svelte-1v74pgf"),a(g,"class","svelte-1v74pgf"),a(c,"class","result-message svelte-1v74pgf")},m(M,N){A(M,e,N),A(M,l,N),A(M,n,N),r(n,o),A(M,i,N),A(M,c,N),r(c,u),r(c,m),r(c,g),r(g,p),r(c,v),r(c,h),r(c,y),A(M,D,N),L&&L.m(M,N),A(M,Q,N),z&&z.m(M,N),A(M,E,N)},p(M,N){N&16&&s!==(s=M[4].correct+"")&&q(o,s),N&16&&f!==(f=M[4].correctMessage+"")&&q(u,f),N&2&&q(p,M[1]),N&18&&b!==(b=(M[1]===1?M[4].hit:M[4].hits)+"")&&q(h,b),M[5]&&!M[3]?L?L.p(M,N):(L=Zl(M),L.c(),L.m(Q.parentNode,Q)):L&&(L.d(1),L=null),M[3]?z?z.p(M,N):(z=Xl(M),z.c(),z.m(E.parentNode,E)):z&&(z.d(1),z=null)},d(M){M&&(S(e),S(l),S(n),S(i),S(c),S(D),S(Q),S(E)),L&&L.d(M),z&&z.d(M)}}}function Jl(t){let e,l=t[4].language==="Språk"?"Streak reset! Try again.":"Rekke tilbakestilt! Prøv igjen.",n;return{c(){e=d("p"),n=k(l),a(e,"class","streak-lost svelte-1v74pgf")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o&16&&l!==(l=s[4].language==="Språk"?"Streak reset! Try again.":"Rekke tilbakestilt! Prøv igjen.")&&q(n,l)},d(s){s&&S(e)}}}function Zl(t){let e,l,n,s,o,i,c;function f(g,p){return g[7]===1?ms:ds}let u=f(t),m=u(t);return{c(){e=d("div"),l=d("p"),m.c(),n=_(),s=d("div"),o=d("div"),i=_(),c=d("div"),a(l,"class","streak-text svelte-1v74pgf"),a(o,"class","streak-dot svelte-1v74pgf"),X(o,"filled",t[7]>=1),a(c,"class","streak-dot svelte-1v74pgf"),X(c,"filled",t[7]>=2),a(s,"class","streak-progress svelte-1v74pgf"),a(e,"class","streak-info svelte-1v74pgf")},m(g,p){A(g,e,p),r(e,l),m.m(l,null),r(e,n),r(e,s),r(s,o),r(s,i),r(s,c)},p(g,p){u===(u=f(g))&&m?m.p(g,p):(m.d(1),m=u(g),m&&(m.c(),m.m(l,null))),p&128&&X(o,"filled",g[7]>=1),p&128&&X(c,"filled",g[7]>=2)},d(g){g&&S(e),m.d()}}}function ds(t){let e=t[4].language==="Språk"?"Get 2 correct answers to win this rare card!":"Få 2 riktige svar for å vinne dette sjeldne kortet!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Språk"?"Get 2 correct answers to win this rare card!":"Få 2 riktige svar for å vinne dette sjeldne kortet!")&&q(l,e)},d(n){n&&S(l)}}}function ms(t){let e=t[4].language==="Språk"?"One more correct to win this card!":"Én til riktig for å vinne dette kortet!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s&16&&e!==(e=n[4].language==="Språk"?"One more correct to win this card!":"Én til riktig for å vinne dette kortet!")&&q(l,e)},d(n){n&&S(l)}}}function Xl(t){let e,l,n=t[4].youWonThisCard+"",s,o,i,c,f,u,m,g,p,v=t[3].name+"",b;return{c(){e=d("div"),l=d("h3"),s=k(n),o=_(),i=d("div"),c=d("div"),f=d("img"),g=_(),p=d("span"),b=k(v),a(l,"class","svelte-1v74pgf"),Qe(f.src,u=t[3].image)||a(f,"src",u),a(f,"alt",m=t[3].name),a(f,"class","svelte-1v74pgf"),a(p,"class","card-name svelte-1v74pgf"),a(c,"class","mini-card svelte-1v74pgf"),a(i,"class","cards-grid svelte-1v74pgf"),a(e,"class","won-cards svelte-1v74pgf")},m(h,y){A(h,e,y),r(e,l),r(l,s),r(e,o),r(e,i),r(i,c),r(c,f),r(c,g),r(c,p),r(p,b)},p(h,y){y&16&&n!==(n=h[4].youWonThisCard+"")&&q(s,n),y&8&&!Qe(f.src,u=h[3].image)&&a(f,"src",u),y&8&&m!==(m=h[3].name)&&a(f,"alt",m),y&8&&v!==(v=h[3].name+"")&&q(b,v)},d(h){h&&S(e)}}}function gs(t){let e,l,n,s,o=t[4].nextQuestion+"",i,c,f;function u(p,v){return p[0]?fs:us}let m=u(t),g=m(t);return{c(){e=d("div"),l=d("div"),g.c(),n=_(),s=d("button"),i=k(o),a(l,"class","result-card svelte-1v74pgf"),X(l,"correct",t[0]),X(l,"incorrect",!t[0]),a(s,"class","next-btn btn-primary svelte-1v74pgf"),a(e,"class","result-view svelte-1v74pgf")},m(p,v){A(p,e,v),r(e,l),g.m(l,null),r(e,n),r(e,s),r(s,i),c||(f=H(s,"click",t[8]),c=!0)},p(p,[v]){m===(m=u(p))&&g?g.p(p,v):(g.d(1),g=m(p),g&&(g.c(),g.m(l,null))),v&1&&X(l,"correct",p[0]),v&1&&X(l,"incorrect",!p[0]),v&16&&o!==(o=p[4].nextQuestion+"")&&q(i,o)},i:ee,o:ee,d(p){p&&S(e),g.d(),c=!1,f()}}}function vs(t,e,l){let{isCorrect:n}=e,{correctAnswer:s}=e,{userAnswer:o}=e,{wonCard:i}=e,{t:c}=e,{needsStreak:f=!1}=e,{streakProgress:u=0}=e,{currentStreak:m=0}=e;const g=Ot();function p(){g("next")}return t.$$set=v=>{"isCorrect"in v&&l(0,n=v.isCorrect),"correctAnswer"in v&&l(1,s=v.correctAnswer),"userAnswer"in v&&l(2,o=v.userAnswer),"wonCard"in v&&l(3,i=v.wonCard),"t"in v&&l(4,c=v.t),"needsStreak"in v&&l(5,f=v.needsStreak),"streakProgress"in v&&l(6,u=v.streakProgress),"currentStreak"in v&&l(7,m=v.currentStreak)},[n,s,o,i,c,f,u,m,p]}class ps extends Je{constructor(e){super(),Ge(this,e,vs,gs,Fe,{isCorrect:0,correctAnswer:1,userAnswer:2,wonCard:3,t:4,needsStreak:5,streakProgress:6,currentStreak:7})}}function hs(){try{const t=Jn(),e=new Blob([t],{type:"application/json"}),l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=`pokemon-collection-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l)}catch(t){throw console.error("Error downloading backup:",t),new Error("Failed to download backup")}}function _s(t){return new Promise(e=>{const l=new FileReader;l.onload=n=>{var s;try{const o=(s=n.target)==null?void 0:s.result,i=Zn(o);e(i)}catch(o){console.error("Error reading file:",o),e({success:!1,error:"Failed to read file"})}},l.onerror=()=>{e({success:!1,error:"Failed to read file"})},l.readAsText(t)})}function $l(t,e,l){const n=t.slice();return n[43]=e[l],n}function xl(t,e,l){const n=t.slice();return n[46]=e[l],n}function en(t,e,l){const n=t.slice();return n[43]=e[l],n}function tn(t,e,l){const n=t.slice();return n[46]=e[l],n}function ks(t,e,l){const n=t.slice();return n[53]=e[l],n}function bs(t){let e;return{c(){e=d("option"),e.textContent=`${t[53].name}`,e.__value=t[53].id,pe(e,e.__value),a(e,"class","svelte-f04vdu")},m(l,n){A(l,e,n)},p:ee,d(l){l&&S(e)}}}function ln(t){let e,l,n=t[2]==="en"?`${t[14]} missing`:`${t[14]} mangler`,s,o;return{c(){e=d("span"),l=k("("),s=k(n),o=k(")"),a(e,"class","missing-count svelte-f04vdu")},m(i,c){A(i,e,c),r(e,l),r(e,s),r(e,o)},p(i,c){c[0]&16388&&n!==(n=i[2]==="en"?`${i[14]} missing`:`${i[14]} mangler`)&&q(s,n)},d(i){i&&S(e)}}}function ws(t){let e=t[2]==="en"?`Defeat ${t[17]>0?t[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${t[17]>0?t[17].toLocaleString():0} HP for å låse opp 5 sjeldne kort`,l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s[0]&131076&&e!==(e=n[2]==="en"?`Defeat ${n[17]>0?n[17].toLocaleString():0} HP to unlock 5 rare cards`:`Beseire ${n[17]>0?n[17].toLocaleString():0} HP for å låse opp 5 sjeldne kort`)&&q(l,e)},d(n){n&&S(l)}}}function ys(t){let e=t[2]==="en"?"Rare cards unlocked!":"Sjeldne kort låst opp!",l;return{c(){l=k(e)},m(n,s){A(n,l,s)},p(n,s){s[0]&4&&e!==(e=n[2]==="en"?"Rare cards unlocked!":"Sjeldne kort låst opp!")&&q(l,e)},d(n){n&&S(l)}}}function nn(t){let e,l;return{c(){e=d("div"),l=d("div"),a(l,"class","hp-progress-fill svelte-f04vdu"),ze(l,"width",t[15]+"%"),a(e,"class","hp-progress-bar svelte-f04vdu")},m(n,s){A(n,e,s),r(e,l)},p(n,s){s[0]&32768&&ze(l,"width",n[15]+"%")},d(n){n&&S(e)}}}function sn(t){let e,l,n,s,o,i,c;function f(){return t[34](t[46])}return{c(){e=d("button"),l=d("img"),o=_(),Qe(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),X(l,"locked",!t[16]),a(e,"class","rare-thumbnail svelte-f04vdu"),X(e,"unlocked",t[16])},m(u,m){A(u,e,m),r(e,l),r(e,o),i||(c=H(e,"click",f),i=!0)},p(u,m){t=u,m[0]&8&&!Qe(l.src,n=t[46].image)&&a(l,"src",n),m[0]&8&&s!==(s=t[46].name)&&a(l,"alt",s),m[0]&65536&&X(l,"locked",!t[16]),m[0]&65536&&X(e,"unlocked",t[16])},d(u){u&&S(e),i=!1,c()}}}function Cs(t){let e,l=be(t[5]),n=[];for(let s=0;s<l.length;s+=1)n[s]=cn(xl(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","cards-grid svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&536870944){l=be(s[5]);let i;for(i=0;i<l.length;i+=1){const c=xl(s,l,i);n[i]?n[i].p(c,o):(n[i]=cn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ve(n,s)}}}function Ss(t){let e,l,n,s,o=t[1].noCardsYet+"",i,c,f,u=t[1].noCardsDescription+"",m;return{c(){e=d("div"),l=d("div"),l.textContent="📦",n=_(),s=d("h3"),i=k(o),c=_(),f=d("p"),m=k(u),a(l,"class","empty-icon svelte-f04vdu"),a(s,"class","svelte-f04vdu"),a(f,"class","svelte-f04vdu"),a(e,"class","empty-state svelte-f04vdu")},m(g,p){A(g,e,p),r(e,l),r(e,n),r(e,s),r(s,i),r(e,c),r(e,f),r(f,m)},p(g,p){p[0]&2&&o!==(o=g[1].noCardsYet+"")&&q(i,o),p[0]&2&&u!==(u=g[1].noCardsDescription+"")&&q(m,u)},d(g){g&&S(e)}}}function rn(t){let e,l,n=t[46].hp+"",s;return{c(){e=d("span"),l=k("HP "),s=k(n),a(e,"class","hp svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&32&&n!==(n=o[46].hp+"")&&q(s,n)},d(o){o&&S(e)}}}function on(t){let e,l=be(t[46].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=an(en(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","types svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&32){l=be(s[46].types);let i;for(i=0;i<l.length;i+=1){const c=en(s,l,i);n[i]?n[i].p(c,o):(n[i]=an(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ve(n,s)}}}function an(t){let e,l=t[43]+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","type svelte-f04vdu")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&32&&l!==(l=s[43]+"")&&q(n,l)},d(s){s&&S(e)}}}function cn(t){let e,l,n,s,o,i,c,f=t[46].name+"",u,m,g,p,v,b,h=t[46].hp&&rn(t),y=t[46].types&&t[46].types.length>0&&on(t);function D(){return t[35](t[46])}return{c(){e=d("button"),l=d("img"),o=_(),i=d("div"),c=d("h4"),u=k(f),m=_(),h&&h.c(),g=_(),y&&y.c(),p=_(),Qe(l.src,n=t[46].image)||a(l,"src",n),a(l,"alt",s=t[46].name),a(l,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(i,"class","card-details svelte-f04vdu"),a(e,"class","collection-card svelte-f04vdu")},m(Q,E){A(Q,e,E),r(e,l),r(e,o),r(e,i),r(i,c),r(c,u),r(i,m),h&&h.m(i,null),r(i,g),y&&y.m(i,null),r(e,p),v||(b=H(e,"click",D),v=!0)},p(Q,E){t=Q,E[0]&32&&!Qe(l.src,n=t[46].image)&&a(l,"src",n),E[0]&32&&s!==(s=t[46].name)&&a(l,"alt",s),E[0]&32&&f!==(f=t[46].name+"")&&q(u,f),t[46].hp?h?h.p(t,E):(h=rn(t),h.c(),h.m(i,g)):h&&(h.d(1),h=null),t[46].types&&t[46].types.length>0?y?y.p(t,E):(y=on(t),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},d(Q){Q&&S(e),h&&h.d(),y&&y.d(),v=!1,b()}}}function un(t){let e,l=t[10].text+"",n;return{c(){e=d("div"),n=k(l),a(e,"class","message svelte-f04vdu"),X(e,"success",t[10].type==="success"),X(e,"error",t[10].type==="error")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&1024&&l!==(l=s[10].text+"")&&q(n,l),o[0]&1024&&X(e,"success",s[10].type==="success"),o[0]&1024&&X(e,"error",s[10].type==="error")},d(s){s&&S(e)}}}function fn(t){let e,l,n,s,o,i,c,f,u,m,g=t[8].name+"",p,v,b,h,y,D,Q=t[8].hp&&dn(t),E=t[8].types&&t[8].types.length>0&&mn(t),L=t[8].rarity&&vn(t);return{c(){e=d("div"),l=d("div"),n=d("button"),n.textContent="×",s=_(),o=d("img"),f=_(),u=d("div"),m=d("h3"),p=k(g),v=_(),Q&&Q.c(),b=_(),E&&E.c(),h=_(),L&&L.c(),a(n,"class","close-modal svelte-f04vdu"),Qe(o.src,i=t[8].image)||a(o,"src",i),a(o,"alt",c=t[8].name),a(o,"class","modal-card-image svelte-f04vdu"),a(m,"class","svelte-f04vdu"),a(u,"class","modal-card-info svelte-f04vdu"),a(l,"class","card-modal svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(z,M){A(z,e,M),r(e,l),r(l,n),r(l,s),r(l,o),r(l,f),r(l,u),r(u,m),r(m,p),r(u,v),Q&&Q.m(u,null),r(u,b),E&&E.m(u,null),r(u,h),L&&L.m(u,null),y||(D=[H(n,"click",t[30]),H(l,"click",bn(t[33])),H(e,"click",t[30]),H(e,"keydown",t[37])],y=!0)},p(z,M){M[0]&256&&!Qe(o.src,i=z[8].image)&&a(o,"src",i),M[0]&256&&c!==(c=z[8].name)&&a(o,"alt",c),M[0]&256&&g!==(g=z[8].name+"")&&q(p,g),z[8].hp?Q?Q.p(z,M):(Q=dn(z),Q.c(),Q.m(u,b)):Q&&(Q.d(1),Q=null),z[8].types&&z[8].types.length>0?E?E.p(z,M):(E=mn(z),E.c(),E.m(u,h)):E&&(E.d(1),E=null),z[8].rarity?L?L.p(z,M):(L=vn(z),L.c(),L.m(u,null)):L&&(L.d(1),L=null)},d(z){z&&S(e),Q&&Q.d(),E&&E.d(),L&&L.d(),y=!1,he(D)}}}function dn(t){let e,l,n=t[8].hp+"",s;return{c(){e=d("div"),l=k("HP: "),s=k(n),a(e,"class","modal-hp svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].hp+"")&&q(s,n)},d(o){o&&S(e)}}}function mn(t){let e,l=be(t[8].types),n=[];for(let s=0;s<l.length;s+=1)n[s]=gn($l(t,l,s));return{c(){e=d("div");for(let s=0;s<n.length;s+=1)n[s].c();a(e,"class","modal-types svelte-f04vdu")},m(s,o){A(s,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,o){if(o[0]&256){l=be(s[8].types);let i;for(i=0;i<l.length;i+=1){const c=$l(s,l,i);n[i]?n[i].p(c,o):(n[i]=gn(c),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(s){s&&S(e),Ve(n,s)}}}function gn(t){let e,l=t[43]+"",n;return{c(){e=d("span"),n=k(l),a(e,"class","modal-type svelte-f04vdu")},m(s,o){A(s,e,o),r(e,n)},p(s,o){o[0]&256&&l!==(l=s[43]+"")&&q(n,l)},d(s){s&&S(e)}}}function vn(t){let e,l,n=t[8].rarity+"",s;return{c(){e=d("div"),l=k("Rarity: "),s=k(n),a(e,"class","modal-rarity svelte-f04vdu")},m(o,i){A(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&256&&n!==(n=o[8].rarity+"")&&q(s,n)},d(o){o&&S(e)}}}function pn(t){let e,l,n,s=t[1].clearCollectionTitle+"",o,i,c,f=t[1].clearCollectionMessage+"",u,m,g,p,v=t[1].cancel+"",b,h,y,D=t[1].clearCollection+"",Q,E,L;return{c(){e=d("div"),l=d("div"),n=d("h3"),o=k(s),i=_(),c=d("p"),u=k(f),m=_(),g=d("div"),p=d("button"),b=k(v),h=_(),y=d("button"),Q=k(D),a(n,"class","svelte-f04vdu"),a(c,"class","svelte-f04vdu"),a(p,"class","btn-secondary"),a(y,"class","btn-error"),a(g,"class","dialog-actions svelte-f04vdu"),a(l,"class","dialog svelte-f04vdu"),a(l,"role","dialog"),a(e,"class","dialog-overlay svelte-f04vdu"),a(e,"role","button"),a(e,"tabindex","-1")},m(z,M){A(z,e,M),r(e,l),r(l,n),r(n,o),r(l,i),r(l,c),r(c,u),r(l,m),r(l,g),r(g,p),r(p,b),r(g,h),r(g,y),r(y,Q),E||(L=[H(p,"click",t[25]),H(y,"click",t[26]),H(l,"click",bn(t[32])),H(l,"keydown",Ms),H(e,"click",t[25]),H(e,"keydown",t[38])],E=!0)},p(z,M){M[0]&2&&s!==(s=z[1].clearCollectionTitle+"")&&q(o,s),M[0]&2&&f!==(f=z[1].clearCollectionMessage+"")&&q(u,f),M[0]&2&&v!==(v=z[1].cancel+"")&&q(b,v),M[0]&2&&D!==(D=z[1].clearCollection+"")&&q(Q,D)},d(z){z&&S(e),E=!1,he(L)}}}function As(t){let e,l,n,s,o,i,c=t[2]==="en"?`Quiz Cards: ${t[12]} / ${t[13]}`:`Quiz-kort: ${t[12]} / ${t[13]}`,f,u,m,g=t[2]==="en"?`Total: ${t[6]} / ${t[7]}`:`Totalt: ${t[6]} / ${t[7]}`,p,v,b,h,y,D,Q,E,L,z,M,N,O,P=t[0].cards.length+"",T,I,F,B=t[1].cardsCollected+"",G,Y,J,ne,V=t[0].stats.totalQuestions+"",se,U,W,$=t[1].questionsAnswered+"",re,Le,oe,ve,_e=t[0].stats.correctAnswers+"",K,te,C,R=t[1].correctAnswers+"",x,ae,le,ce,Ze,ft,we,Xe,$e=t[1].accuracy+"",wt,gl,Ce,xe,et,tt,yt=(t[1].language||"Language")+"",Kt,vl,pl,Te,Be,Oe,hl,lt,nt,Ct=t[1].gradeLevel+"",Ut,_l,kl,ke,Ie,St=t[1].gradeLevel+"",Vt,bl,Pe,At=t[1].gradeLevel+"",Wt,wl,Ne,Mt=t[1].gradeLevel+"",Yt,yl,De,qt=t[1].gradeLevel+"",Gt,Cl,Re,zt=t[1].gradeLevel+"",Jt,Sl,Al,Se,dt,Qt=t[1].exportBackup+"",Zt,Ml,mt,Et=t[1].importBackup+"",Xt,ql,gt,Lt=t[1].clearThisSet+"",$t,zl,He,Ql,Tt,El,xt,Ll,el,vt,pt,tl,Tl,Il=be(Rt),Ke=[];for(let w=0;w<Il.length;w+=1)Ke[w]=bs(ks(t,Il,w));let ue=t[14]>0&&ln(t);function Pl(w,j){return w[16]?ys:ws}let It=Pl(t),Ae=It(t),fe=!t[16]&&nn(t),st=be(t[3]),ie=[];for(let w=0;w<st.length;w+=1)ie[w]=sn(tn(t,st,w));function Nl(w,j){return w[0].cards.length===0?Ss:Cs}let Pt=Nl(t),Me=Pt(t),de=t[10]&&un(t),me=t[8]&&fn(t),ge=t[11]&&pn(t);return{c(){e=d("div"),l=d("div"),n=d("select");for(let w=0;w<Ke.length;w+=1)Ke[w].c();s=_(),o=d("div"),i=d("div"),f=k(c),u=_(),m=d("div"),p=k(g),v=_(),ue&&ue.c(),b=_(),h=d("div"),y=d("div"),Ae.c(),D=_(),fe&&fe.c(),Q=_(),E=d("div");for(let w=0;w<ie.length;w+=1)ie[w].c();L=_(),Me.c(),z=_(),M=d("div"),N=d("div"),O=d("div"),T=k(P),I=_(),F=d("div"),G=k(B),Y=_(),J=d("div"),ne=d("div"),se=k(V),U=_(),W=d("div"),re=k($),Le=_(),oe=d("div"),ve=d("div"),K=k(_e),te=_(),C=d("div"),x=k(R),ae=_(),le=d("div"),ce=d("div"),Ze=k(t[18]),ft=k("%"),we=_(),Xe=d("div"),wt=k($e),gl=_(),Ce=d("div"),xe=d("div"),et=d("div"),tt=d("label"),Kt=k(yt),vl=k(":"),pl=_(),Te=d("select"),Be=d("option"),Be.textContent="English",Oe=d("option"),Oe.textContent="Norsk",hl=_(),lt=d("div"),nt=d("label"),Ut=k(Ct),_l=k(":"),kl=_(),ke=d("select"),Ie=d("option"),Vt=k(St),bl=k(" 1"),Pe=d("option"),Wt=k(At),wl=k(" 2"),Ne=d("option"),Yt=k(Mt),yl=k(" 3"),De=d("option"),Gt=k(qt),Cl=k(" 4"),Re=d("option"),Jt=k(zt),Sl=k(" 5"),Al=_(),Se=d("div"),dt=d("button"),Zt=k(Qt),Ml=_(),mt=d("button"),Xt=k(Et),ql=_(),gt=d("button"),$t=k(Lt),zl=_(),He=d("input"),Ql=_(),Tt=d("p"),Tt.textContent="This website is not produced, endorsed, supported, or affiliated with Nintendo or The Pokémon Company. Data from https://tcgdex.dev/. Pokémon and all elements of the Pokémon franchise are © 1995-2025 Nintendo, GAME FREAK inc. TM © and Creatures Inc.",El=_(),xt=d("p"),xt.textContent="Our website uses cookies in the form of local storage for functionality purposes only. These cookies are necessary to save your progress in the game while you are playing and for the next time you want to play. You can choose to block or delete cookies in your browser, but this will affect the functionality of our website. We do not transmit any other user data. The website code is delivered to your computer by servers at netlify.com.",Ll=_(),de&&de.c(),el=_(),me&&me.c(),vt=_(),ge&&ge.c(),pt=cl(),a(n,"class","set-selector svelte-f04vdu"),a(i,"class","regular-cards-count svelte-f04vdu"),a(m,"class","total-cards-count svelte-f04vdu"),a(o,"class","set-counter svelte-f04vdu"),a(l,"class","set-selector-container svelte-f04vdu"),a(y,"class","rare-section-text svelte-f04vdu"),a(E,"class","rare-cards-thumbnails svelte-f04vdu"),a(h,"class","rare-cards-section svelte-f04vdu"),a(O,"class","stat-value svelte-f04vdu"),a(F,"class","stat-label svelte-f04vdu"),a(N,"class","stat-card svelte-f04vdu"),a(ne,"class","stat-value svelte-f04vdu"),a(W,"class","stat-label svelte-f04vdu"),a(J,"class","stat-card svelte-f04vdu"),a(ve,"class","stat-value svelte-f04vdu"),a(C,"class","stat-label svelte-f04vdu"),a(oe,"class","stat-card svelte-f04vdu"),a(ce,"class","stat-value svelte-f04vdu"),a(Xe,"class","stat-label svelte-f04vdu"),a(le,"class","stat-card svelte-f04vdu"),a(M,"class","stats-section svelte-f04vdu"),a(tt,"for","language-select"),a(tt,"class","svelte-f04vdu"),Be.__value="en",pe(Be,Be.__value),a(Be,"class","svelte-f04vdu"),Oe.__value="no",pe(Oe,Oe.__value),a(Oe,"class","svelte-f04vdu"),a(Te,"id","language-select"),a(Te,"class","settings-selector svelte-f04vdu"),a(et,"class","selector-group svelte-f04vdu"),a(nt,"for","klassetrinn-select"),a(nt,"class","svelte-f04vdu"),Ie.__value=1,pe(Ie,Ie.__value),a(Ie,"class","svelte-f04vdu"),Pe.__value=2,pe(Pe,Pe.__value),a(Pe,"class","svelte-f04vdu"),Ne.__value=3,pe(Ne,Ne.__value),a(Ne,"class","svelte-f04vdu"),De.__value=4,pe(De,De.__value),a(De,"class","svelte-f04vdu"),Re.__value=5,pe(Re,Re.__value),a(Re,"class","svelte-f04vdu"),a(ke,"id","klassetrinn-select"),a(ke,"class","settings-selector svelte-f04vdu"),a(lt,"class","selector-group svelte-f04vdu"),a(xe,"class","settings-selectors svelte-f04vdu"),a(dt,"class","btn-secondary"),a(mt,"class","btn-secondary"),a(gt,"class","btn-error"),a(He,"type","file"),a(He,"accept",".json"),ze(He,"display","none"),a(Se,"class","functions-actions svelte-f04vdu"),ze(Tt,"background-color","white"),a(Ce,"class","functions-section svelte-f04vdu"),a(e,"class","collection-view svelte-f04vdu")},m(w,j){A(w,e,j),r(e,l),r(l,n);for(let Z=0;Z<Ke.length;Z+=1)Ke[Z]&&Ke[Z].m(n,null);je(n,t[4]),r(l,s),r(l,o),r(o,i),r(i,f),r(o,u),r(o,m),r(m,p),r(m,v),ue&&ue.m(m,null),r(e,b),r(e,h),r(h,y),Ae.m(y,null),r(h,D),fe&&fe.m(h,null),r(h,Q),r(h,E);for(let Z=0;Z<ie.length;Z+=1)ie[Z]&&ie[Z].m(E,null);r(e,L),Me.m(e,null),r(e,z),r(e,M),r(M,N),r(N,O),r(O,T),r(N,I),r(N,F),r(F,G),r(M,Y),r(M,J),r(J,ne),r(ne,se),r(J,U),r(J,W),r(W,re),r(M,Le),r(M,oe),r(oe,ve),r(ve,K),r(oe,te),r(oe,C),r(C,x),r(M,ae),r(M,le),r(le,ce),r(ce,Ze),r(ce,ft),r(le,we),r(le,Xe),r(Xe,wt),r(e,gl),r(e,Ce),r(Ce,xe),r(xe,et),r(et,tt),r(tt,Kt),r(tt,vl),r(et,pl),r(et,Te),r(Te,Be),r(Te,Oe),je(Te,t[2]),r(xe,hl),r(xe,lt),r(lt,nt),r(nt,Ut),r(nt,_l),r(lt,kl),r(lt,ke),r(ke,Ie),r(Ie,Vt),r(Ie,bl),r(ke,Pe),r(Pe,Wt),r(Pe,wl),r(ke,Ne),r(Ne,Yt),r(Ne,yl),r(ke,De),r(De,Gt),r(De,Cl),r(ke,Re),r(Re,Jt),r(Re,Sl),je(ke,t[19]),r(Ce,Al),r(Ce,Se),r(Se,dt),r(dt,Zt),r(Se,Ml),r(Se,mt),r(mt,Xt),r(Se,ql),r(Se,gt),r(gt,$t),r(Se,zl),r(Se,He),t[36](He),r(Ce,Ql),r(Ce,Tt),r(Ce,El),r(Ce,xt),r(e,Ll),de&&de.m(e,null),A(w,el,j),me&&me.m(w,j),A(w,vt,j),ge&&ge.m(w,j),A(w,pt,j),tl||(Tl=[H(n,"change",t[20]),H(Te,"change",t[27]),H(ke,"change",t[28]),H(dt,"click",t[21]),H(mt,"click",t[22]),H(gt,"click",t[24]),H(He,"change",t[23])],tl=!0)},p(w,j){if(j[0]&16&&je(n,w[4]),j[0]&12292&&c!==(c=w[2]==="en"?`Quiz Cards: ${w[12]} / ${w[13]}`:`Quiz-kort: ${w[12]} / ${w[13]}`)&&q(f,c),j[0]&196&&g!==(g=w[2]==="en"?`Total: ${w[6]} / ${w[7]}`:`Totalt: ${w[6]} / ${w[7]}`)&&q(p,g),w[14]>0?ue?ue.p(w,j):(ue=ln(w),ue.c(),ue.m(m,null)):ue&&(ue.d(1),ue=null),It===(It=Pl(w))&&Ae?Ae.p(w,j):(Ae.d(1),Ae=It(w),Ae&&(Ae.c(),Ae.m(y,null))),w[16]?fe&&(fe.d(1),fe=null):fe?fe.p(w,j):(fe=nn(w),fe.c(),fe.m(h,Q)),j[0]&536936456){st=be(w[3]);let Z;for(Z=0;Z<st.length;Z+=1){const Dl=tn(w,st,Z);ie[Z]?ie[Z].p(Dl,j):(ie[Z]=sn(Dl),ie[Z].c(),ie[Z].m(E,null))}for(;Z<ie.length;Z+=1)ie[Z].d(1);ie.length=st.length}Pt===(Pt=Nl(w))&&Me?Me.p(w,j):(Me.d(1),Me=Pt(w),Me&&(Me.c(),Me.m(e,z))),j[0]&1&&P!==(P=w[0].cards.length+"")&&q(T,P),j[0]&2&&B!==(B=w[1].cardsCollected+"")&&q(G,B),j[0]&1&&V!==(V=w[0].stats.totalQuestions+"")&&q(se,V),j[0]&2&&$!==($=w[1].questionsAnswered+"")&&q(re,$),j[0]&1&&_e!==(_e=w[0].stats.correctAnswers+"")&&q(K,_e),j[0]&2&&R!==(R=w[1].correctAnswers+"")&&q(x,R),j[0]&262144&&q(Ze,w[18]),j[0]&2&&$e!==($e=w[1].accuracy+"")&&q(wt,$e),j[0]&2&&yt!==(yt=(w[1].language||"Language")+"")&&q(Kt,yt),j[0]&4&&je(Te,w[2]),j[0]&2&&Ct!==(Ct=w[1].gradeLevel+"")&&q(Ut,Ct),j[0]&2&&St!==(St=w[1].gradeLevel+"")&&q(Vt,St),j[0]&2&&At!==(At=w[1].gradeLevel+"")&&q(Wt,At),j[0]&2&&Mt!==(Mt=w[1].gradeLevel+"")&&q(Yt,Mt),j[0]&2&&qt!==(qt=w[1].gradeLevel+"")&&q(Gt,qt),j[0]&2&&zt!==(zt=w[1].gradeLevel+"")&&q(Jt,zt),j[0]&524288&&je(ke,w[19]),j[0]&2&&Qt!==(Qt=w[1].exportBackup+"")&&q(Zt,Qt),j[0]&2&&Et!==(Et=w[1].importBackup+"")&&q(Xt,Et),j[0]&2&&Lt!==(Lt=w[1].clearThisSet+"")&&q($t,Lt),w[10]?de?de.p(w,j):(de=un(w),de.c(),de.m(e,null)):de&&(de.d(1),de=null),w[8]?me?me.p(w,j):(me=fn(w),me.c(),me.m(vt.parentNode,vt)):me&&(me.d(1),me=null),w[11]?ge?ge.p(w,j):(ge=pn(w),ge.c(),ge.m(pt.parentNode,pt)):ge&&(ge.d(1),ge=null)},i:ee,o:ee,d(w){w&&(S(e),S(el),S(vt),S(pt)),Ve(Ke,w),ue&&ue.d(),Ae.d(),fe&&fe.d(),Ve(ie,w),Me.d(),t[36](null),de&&de.d(),me&&me.d(w),ge&&ge.d(w),tl=!1,he(Tl)}}}const Ms=()=>{};function qs(t,e,l){let n,s,o,i,c,f,u,m,g,p,v,b;ht(t,Bt,C=>l(39,v=C)),ht(t,bt,C=>l(19,b=C));let{collection:h}=e,{t:y}=e,{language:D}=e,Q=null,E=[],L=[],z=v;yn(async()=>{await M()});async function M(){try{l(31,E=await al(z));const C=[...E].sort((R,x)=>{const ae=parseInt(R.localId||"0");return parseInt(x.localId||"0")-ae});l(3,L=C.slice(0,5))}catch(C){console.error("Error loading rare cards:",C)}}function N(C){const R=C.target;l(4,z=R.value),M()}const O=Ot();let P,T=null,I=!1;function F(){try{hs(),Y(y.collectionExported,"success")}catch{Y(y.exportFailed,"error")}}function B(){P.click()}async function G(C){var ae;const R=C.target,x=(ae=R.files)==null?void 0:ae[0];if(x){try{const le=await _s(x);le.success?(Y(y.collectionImported,"success"),O("refresh")):Y(le.error||y.importFailed,"error")}catch{Y(y.importFailed,"error")}R.value=""}}function Y(C,R){l(10,T={text:C,type:R}),setTimeout(()=>{l(10,T=null)},3e3)}function J(){l(11,I=!0)}function ne(){l(11,I=!1)}function V(){try{Gn(),l(11,I=!1),Y(y.collectionCleared,"success"),O("refresh")}catch{Y(y.clearFailed,"error")}}function se(C){const R=C.target;O("languageChange",R.value)}function U(C){const R=C.target;bt.set(Number(R.value))}function W(C){l(8,Q=C)}function $(){l(8,Q=null)}function re(C){jl.call(this,t,C)}function Le(C){jl.call(this,t,C)}const oe=C=>W({...C,collectedAt:new Date().toISOString()}),ve=C=>W(C);function _e(C){rl[C?"unshift":"push"](()=>{P=C,l(9,P)})}const K=C=>C.key==="Escape"&&$(),te=C=>C.key==="Escape"&&ne();return t.$$set=C=>{"collection"in C&&l(0,h=C.collection),"t"in C&&l(1,y=C.t),"language"in C&&l(2,D=C.language)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(18,n=h.stats.totalQuestions>0?Math.round(h.stats.correctAnswers/h.stats.totalQuestions*100):0),t.$$.dirty[0]&1&&l(17,s=16e3-(h.stats.totalHpDefeated||0)),t.$$.dirty[0]&17&&l(16,o=h.unlockedRareSets&&h.unlockedRareSets[z]||!1),t.$$.dirty[0]&1&&l(15,i=Math.min(h.stats.totalHpDefeated/16e3*100,100)),t.$$.dirty[0]&17&&l(5,c=h.cards.filter(C=>C.id.startsWith(z+"-"))),t.$$.dirty[0]&32&&l(6,f=c.length),t.$$.dirty[1]&1&&l(7,u=E.length),t.$$.dirty[0]&192&&l(14,m=u-f),t.$$.dirty[1]&1&&l(13,g=E.length-5),t.$$.dirty[0]&40&&l(12,p=c.filter(C=>!L.some(x=>x.id===C.id)).length)},[h,y,D,L,z,c,f,u,Q,P,T,I,p,g,m,i,o,s,n,b,N,F,B,G,J,ne,V,se,U,W,$,E,re,Le,oe,ve,_e,K,te]}class zs extends Je{constructor(e){super(),Ge(this,e,qs,As,Fe,{collection:0,t:1,language:2},null,[-1,-1])}}function Qs(t){let e,l,n,s,o;return{c(){e=d("div"),l=d("div"),n=_(),s=d("p"),o=k(t[0]),a(l,"class","spinner svelte-1lxornd"),a(s,"class","svelte-1lxornd"),a(e,"class","loading-view svelte-1lxornd")},m(i,c){A(i,e,c),r(e,l),r(e,n),r(e,s),r(s,o)},p(i,[c]){c&1&&q(o,i[0])},i:ee,o:ee,d(i){i&&S(e)}}}function Es(t,e,l){let{message:n="Loading..."}=e;return t.$$set=s=>{"message"in s&&l(0,n=s.message)},[n]}class Ls extends Je{constructor(e){super(),Ge(this,e,Es,Qs,Fe,{message:0})}}function Ts(t){let e,l,n,s,o,i,c,f,u,m,g;return{c(){e=d("div"),l=d("div"),l.textContent="⚠️",n=_(),s=d("h2"),s.textContent="Oops!",o=_(),i=d("p"),c=k(t[0]),f=_(),u=d("button"),u.textContent="Try Again",a(l,"class","error-icon svelte-na0xmw"),a(s,"class","svelte-na0xmw"),a(i,"class","svelte-na0xmw"),a(u,"class","btn-primary"),a(e,"class","error-view svelte-na0xmw")},m(p,v){A(p,e,v),r(e,l),r(e,n),r(e,s),r(e,o),r(e,i),r(i,c),r(e,f),r(e,u),m||(g=H(u,"click",t[1]),m=!0)},p(p,[v]){v&1&&q(c,p[0])},i:ee,o:ee,d(p){p&&S(e),m=!1,g()}}}function Is(t,e,l){let{message:n="Something went wrong"}=e;const s=Ot();function o(){s("retry")}return t.$$set=i=>{"message"in i&&l(0,n=i.message)},[n,o]}class Ps extends Je{constructor(e){super(),Ge(this,e,Is,Ts,Fe,{message:0})}}const Ns=""+new URL("headerbackground.cL6tUhZr.png",import.meta.url).href;function Ds(t,e,l){const n=t.slice();return n[42]=e[l],n}function Rs(t){let e,l;return e=new zs({props:{collection:t[4],t:t[16],language:t[0]}}),e.$on("refresh",t[27]),e.$on("languageChange",t[29]),{c(){ut(e.$$.fragment)},m(n,s){We(e,n,s),l=!0},p(n,s){const o={};s[0]&16&&(o.collection=n[4]),s[0]&65536&&(o.t=n[16]),s[0]&1&&(o.language=n[0]),e.$set(o)},i(n){l||(ye(e.$$.fragment,n),l=!0)},o(n){Ee(e.$$.fragment,n),l=!1},d(n){Ye(e,n)}}}function js(t){let e,l,n,s;const o=[Hs,Os,Bs,Fs],i=[];function c(f,u){return f[1]==="loading"?0:f[1]==="quiz"&&f[2]?1:f[1]==="result"&&f[2]?2:f[1]==="error"?3:-1}return~(e=c(t))&&(l=i[e]=o[e](t)),{c(){l&&l.c(),n=cl()},m(f,u){~e&&i[e].m(f,u),A(f,n,u),s=!0},p(f,u){let m=e;e=c(f),e===m?~e&&i[e].p(f,u):(l&&(Sn(),Ee(i[m],1,1,()=>{i[m]=null}),An()),~e?(l=i[e],l?l.p(f,u):(l=i[e]=o[e](f),l.c()),ye(l,1),l.m(n.parentNode,n)):l=null)},i(f){s||(ye(l),s=!0)},o(f){Ee(l),s=!1},d(f){f&&S(n),~e&&i[e].d(f)}}}function Fs(t){let e,l;return e=new Ps({props:{message:t[8]}}),e.$on("retry",t[24]),{c(){ut(e.$$.fragment)},m(n,s){We(e,n,s),l=!0},p(n,s){const o={};s[0]&256&&(o.message=n[8]),e.$set(o)},i(n){l||(ye(e.$$.fragment,n),l=!0)},o(n){Ee(e.$$.fragment,n),l=!1},d(n){Ye(e,n)}}}function Bs(t){let e,l;return e=new ps({props:{isCorrect:t[5],correctAnswer:t[2].correctAnswer,userAnswer:t[6],wonCard:t[7],t:t[16],needsStreak:t[12],streakProgress:t[13],currentStreak:t[4].currentStreak||0}}),e.$on("next",t[23]),{c(){ut(e.$$.fragment)},m(n,s){We(e,n,s),l=!0},p(n,s){const o={};s[0]&32&&(o.isCorrect=n[5]),s[0]&4&&(o.correctAnswer=n[2].correctAnswer),s[0]&64&&(o.userAnswer=n[6]),s[0]&128&&(o.wonCard=n[7]),s[0]&65536&&(o.t=n[16]),s[0]&4096&&(o.needsStreak=n[12]),s[0]&8192&&(o.streakProgress=n[13]),s[0]&16&&(o.currentStreak=n[4].currentStreak||0),e.$set(o)},i(n){l||(ye(e.$$.fragment,n),l=!0)},o(n){Ee(e.$$.fragment,n),l=!1},d(n){Ye(e,n)}}}function Os(t){var m;let e,l,n,s,o,i,c,f=be(Rt),u=[];for(let g=0;g<f.length;g+=1)u[g]=Ks(Ds(t,f,g));return s=new cs({props:{question:t[2],t:t[16],currentSet:((m=Rt.find(t[28]))==null?void 0:m.name)||""}}),s.$on("answer",t[22]),{c(){e=d("div"),l=d("select");for(let g=0;g<u.length;g+=1)u[g].c();n=_(),ut(s.$$.fragment),a(l,"class","set-selector svelte-1mmoizy"),a(e,"class","set-selector-container svelte-1mmoizy")},m(g,p){A(g,e,p),r(e,l);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(l,null);je(l,t[17]),A(g,n,p),We(s,g,p),o=!0,i||(c=H(l,"change",t[18]),i=!0)},p(g,p){var b;(!o||p[0]&131072)&&je(l,g[17]);const v={};p[0]&4&&(v.question=g[2]),p[0]&65536&&(v.t=g[16]),p[0]&2048&&(v.currentSet=((b=Rt.find(g[28]))==null?void 0:b.name)||""),s.$set(v)},i(g){o||(ye(s.$$.fragment,g),o=!0)},o(g){Ee(s.$$.fragment,g),o=!1},d(g){g&&(S(e),S(n)),Ve(u,g),Ye(s,g),i=!1,c()}}}function Hs(t){let e,l;return e=new Ls({props:{message:t[16].loading}}),{c(){ut(e.$$.fragment)},m(n,s){We(e,n,s),l=!0},p(n,s){const o={};s[0]&65536&&(o.message=n[16].loading),e.$set(o)},i(n){l||(ye(e.$$.fragment,n),l=!0)},o(n){Ee(e.$$.fragment,n),l=!1},d(n){Ye(e,n)}}}function Ks(t){let e;return{c(){e=d("option"),e.textContent=`${t[42].name}`,e.__value=t[42].id,pe(e,e.__value),a(e,"class","svelte-1mmoizy")},m(l,n){A(l,e,n)},p:ee,d(l){l&&S(e)}}}function hn(t){let e,l;function n(i,c){return i[15]?Us:Vs}let s=n(t),o=s(t);return{c(){e=d("div"),l=d("div"),o.c(),a(l,"class","dialog language-dialog svelte-1mmoizy"),a(e,"class","dialog-overlay svelte-1mmoizy"),a(e,"role","button"),a(e,"tabindex","-1")},m(i,c){A(i,e,c),r(e,l),o.m(l,null)},p(i,c){s===(s=n(i))&&o?o.p(i,c):(o.d(1),o=s(i),o&&(o.c(),o.m(l,null)))},d(i){i&&S(e),o.d()}}}function Us(t){let e,l=t[14]==="en"?"Choose Grade Level":"Velg Klassetrinn",n,s,o,i=t[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsnivå. Du kan endre dette når som helst i Min samling.",c,f,u,m,g,p,v,b=t[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)",h,y,D,Q,E,L,z=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",M,N,O,P,T,I,F=t[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon",B,G,Y,J,ne,V,se=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",U,W,$,re,Le,oe,ve=t[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer",_e,K,te;return{c(){e=d("h2"),n=k(l),s=_(),o=d("p"),c=k(i),f=_(),u=d("div"),m=d("button"),g=d("span"),g.textContent="1",p=_(),v=d("span"),h=k(b),y=_(),D=d("button"),Q=d("span"),Q.textContent="2",E=_(),L=d("span"),M=k(z),N=_(),O=d("button"),P=d("span"),P.textContent="3",T=_(),I=d("span"),B=k(F),G=_(),Y=d("button"),J=d("span"),J.textContent="4",ne=_(),V=d("span"),U=k(se),W=_(),$=d("button"),re=d("span"),re.textContent="5",Le=_(),oe=d("span"),_e=k(ve),a(e,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(g,"class","grade-number svelte-1mmoizy"),a(v,"class","grade-description svelte-1mmoizy"),a(m,"class","klassetrinn-btn svelte-1mmoizy"),a(Q,"class","grade-number svelte-1mmoizy"),a(L,"class","grade-description svelte-1mmoizy"),a(D,"class","klassetrinn-btn svelte-1mmoizy"),a(P,"class","grade-number svelte-1mmoizy"),a(I,"class","grade-description svelte-1mmoizy"),a(O,"class","klassetrinn-btn svelte-1mmoizy"),a(J,"class","grade-number svelte-1mmoizy"),a(V,"class","grade-description svelte-1mmoizy"),a(Y,"class","klassetrinn-btn svelte-1mmoizy"),a(re,"class","grade-number svelte-1mmoizy"),a(oe,"class","grade-description svelte-1mmoizy"),a($,"class","klassetrinn-btn svelte-1mmoizy"),a(u,"class","klassetrinn-buttons svelte-1mmoizy")},m(C,R){A(C,e,R),r(e,n),A(C,s,R),A(C,o,R),r(o,c),A(C,f,R),A(C,u,R),r(u,m),r(m,g),r(m,p),r(m,v),r(v,h),r(u,y),r(u,D),r(D,Q),r(D,E),r(D,L),r(L,M),r(u,N),r(u,O),r(O,P),r(O,T),r(O,I),r(I,B),r(u,G),r(u,Y),r(Y,J),r(Y,ne),r(Y,V),r(V,U),r(u,W),r(u,$),r($,re),r($,Le),r($,oe),r(oe,_e),K||(te=[H(m,"click",t[32]),H(D,"click",t[33]),H(O,"click",t[34]),H(Y,"click",t[35]),H($,"click",t[36])],K=!0)},p(C,R){R[0]&16384&&l!==(l=C[14]==="en"?"Choose Grade Level":"Velg Klassetrinn")&&q(n,l),R[0]&16384&&i!==(i=C[14]==="en"?"Select the appropriate difficulty level. You can change this anytime in My Collection.":"Velg passende vanskelighetsnivå. Du kan endre dette når som helst i Min samling.")&&q(c,i),R[0]&16384&&b!==(b=C[14]==="en"?"Simple addition (5 + 3)":"Enkel addisjon (5 + 3)")&&q(h,b),R[0]&16384&&z!==(z=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(M,z),R[0]&16384&&F!==(F=C[14]==="en"?"Addition & subtraction":"Addisjon og subtraksjon")&&q(B,F),R[0]&16384&&se!==(se=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(U,se),R[0]&16384&&ve!==(ve=C[14]==="en"?"With Pokemon challenges":"Med Pokemon utfordringer")&&q(_e,ve)},d(C){C&&(S(e),S(s),S(o),S(f),S(u)),K=!1,he(te)}}}function Vs(t){let e,l,n,s,o,i,c,f,u,m,g,p,v,b;return{c(){e=d("h2"),e.textContent="Hello!",l=_(),n=d("p"),n.textContent="Dette er et mattespill for barn i 1-7 trinn, og her skal du samle på pokémon kort. Du kan vinne de supersjeldene gull kortene ved å slå kort med tilsammen 16000 HP.",s=_(),o=d("p"),o.textContent="Solve math problems collect get cards. Beat 16000 HP in total to get super rare cards!",i=_(),c=d("div"),f=d("button"),f.innerHTML='<span class="flag svelte-1mmoizy">🇬🇧</span> <span>English</span>',u=_(),m=d("button"),m.innerHTML='<span class="flag svelte-1mmoizy">🇳🇴</span> <span>Norsk</span>',g=_(),p=d("p"),p.textContent="Laget av / Made by Sigmund (10) & Kjartan",a(e,"class","svelte-1mmoizy"),a(n,"class","svelte-1mmoizy"),a(o,"class","svelte-1mmoizy"),a(f,"class","language-btn svelte-1mmoizy"),a(m,"class","language-btn svelte-1mmoizy"),a(c,"class","language-buttons svelte-1mmoizy"),a(p,"class","svelte-1mmoizy")},m(h,y){A(h,e,y),A(h,l,y),A(h,n,y),A(h,s,y),A(h,o,y),A(h,i,y),A(h,c,y),r(c,f),r(c,u),r(c,m),A(h,g,y),A(h,p,y),v||(b=[H(f,"click",t[30]),H(m,"click",t[31])],v=!0)},p:ee,d(h){h&&(S(e),S(l),S(n),S(s),S(o),S(i),S(c),S(g),S(p)),v=!1,he(b)}}}function Ws(t){var se;let e,l,n,s,o=t[16].appTitle+"",i,c,f,u,m=t[16].playQuiz+"",g,p,v,b=t[16].myCollection+"",h,y,D=(((se=t[4])==null?void 0:se.cards.length)||0)+"",Q,E,L=t[3].length+"",z,M,N,O,P,T,I,F,B,G;const Y=[js,Rs],J=[];function ne(U,W){return U[9]==="quiz"?0:1}P=ne(t),T=J[P]=Y[P](t);let V=t[10]&&hn(t);return{c(){e=d("div"),l=d("header"),n=d("div"),s=d("h1"),i=k(o),c=_(),f=d("nav"),u=d("button"),g=k(m),p=_(),v=d("button"),h=k(b),y=k(" ("),Q=k(D),E=k("/"),z=k(L),M=k(")"),N=_(),O=d("main"),T.c(),I=_(),V&&V.c(),a(s,"class","app-title svelte-1mmoizy"),a(u,"class","nav-btn svelte-1mmoizy"),X(u,"active",t[9]==="quiz"),a(v,"class","nav-btn svelte-1mmoizy"),X(v,"active",t[9]==="collection"),a(f,"class","svelte-1mmoizy"),a(n,"class","header-content svelte-1mmoizy"),a(l,"class","app-header svelte-1mmoizy"),ze(l,"background-image","url("+Ns+")"),ze(l,"background-size","cover"),ze(l,"background-position","top center"),ze(l,"background-repeat","no-repeat"),a(O,"class","svelte-1mmoizy"),a(e,"class","app svelte-1mmoizy")},m(U,W){A(U,e,W),r(e,l),r(l,n),r(n,s),r(s,i),r(n,c),r(n,f),r(f,u),r(u,g),r(f,p),r(f,v),r(v,h),r(v,y),r(v,Q),r(v,E),r(v,z),r(v,M),r(e,N),r(e,O),J[P].m(O,null),r(e,I),V&&V.m(e,null),F=!0,B||(G=[H(u,"click",t[26]),H(v,"click",t[25])],B=!0)},p(U,W){var re;(!F||W[0]&65536)&&o!==(o=U[16].appTitle+"")&&q(i,o),(!F||W[0]&65536)&&m!==(m=U[16].playQuiz+"")&&q(g,m),(!F||W[0]&512)&&X(u,"active",U[9]==="quiz"),(!F||W[0]&65536)&&b!==(b=U[16].myCollection+"")&&q(h,b),(!F||W[0]&16)&&D!==(D=(((re=U[4])==null?void 0:re.cards.length)||0)+"")&&q(Q,D),(!F||W[0]&8)&&L!==(L=U[3].length+"")&&q(z,L),(!F||W[0]&512)&&X(v,"active",U[9]==="collection");let $=P;P=ne(U),P===$?J[P].p(U,W):(Sn(),Ee(J[$],1,1,()=>{J[$]=null}),An(),T=J[P],T?T.p(U,W):(T=J[P]=Y[P](U),T.c()),ye(T,1),T.m(O,null)),U[10]?V?V.p(U,W):(V=hn(U),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},i(U){F||(ye(T),F=!0)},o(U){Ee(T),F=!1},d(U){U&&S(e),J[P].d(),V&&V.d(),B=!1,he(G)}}}function Ys(t,e,l){let n,s,o,i;ht(t,bt,K=>l(38,s=K)),ht(t,jt,K=>l(0,o=K)),ht(t,Bt,K=>l(17,i=K));let c="loading",f=null,u=[],m,g=!1,p=0,v=0,b=null,h="",y="quiz",D=!1,Q=i,E=!1,L=0;yn(()=>{l(4,m=qe()),localStorage.getItem("tcg-seen-language-dialog")?I():l(10,D=!0)});function z(K){const te=K.target;Bt.set(te.value),l(11,Q=te.value),l(3,u=[]),I()}function M(K){jt.set(K)}let N="en",O=!1;function P(K){l(14,N=K),l(15,O=!0)}function T(K){jt.set(N),bt.set(K),localStorage.setItem("tcg-seen-language-dialog","true"),l(10,D=!1),l(15,O=!1),I()}async function I(){var K;try{l(1,c="loading"),u.length===0&&l(3,u=await al(Q));const te=[...u].sort((we,Xe)=>{const $e=parseInt(we.localId||"0");return parseInt(Xe.localId||"0")-$e}),C=new Set(te.slice(0,5).map(we=>we.id)),R=new Set(m.cards.map(we=>we.id)),x=u.filter(we=>!R.has(we.id)&&!C.has(we.id));if(x.length===0)throw new Error("Congratulations! You have collected all cards from this set!");const ae=Un(x),le=await Kn(ae.id,Q),ce=((K=le.rarity)==null?void 0:K.toLowerCase())||"common",Ze=ce!=="common"&&ce!=="uncommon"&&ce!=="rare"&&ce!=="double rare",ft=xn(le,n,Ze,s);if(!ft)throw new Error("Could not generate a valid question. Please try again.");l(12,E=Ze?!1:ce!=="common"&&ce!=="uncommon"&&ce!=="rare"&&ce!=="double rare"),m.streakCard&&m.streakCard.id===le.id?l(13,L=m.currentStreak||0):l(13,L=0),l(2,f=ft),l(1,c="quiz")}catch(te){console.error("Error loading question:",te),l(8,h=te instanceof Error?te.message:"Failed to load question"),l(1,c="error")}}async function F(){m.unlockedRareSets||l(4,m.unlockedRareSets={},m),!m.unlockedRareSets[Q]&&m.stats.totalHpDefeated>=16e3&&(u.length===0&&l(3,u=await al(Q)),[...u].sort((C,R)=>{const x=parseInt(C.localId||"0");return parseInt(R.localId||"0")-x}).slice(0,5).forEach(C=>{const R={id:C.id,name:C.name,image:C.image,hp:C.hp,types:C.types,rarity:C.rarity,collectedAt:new Date().toISOString()};m.cards.some(ae=>ae.id===C.id)||m.cards.push(R)}),l(4,m.unlockedRareSets[Q]=!0,m),ct(m))}function B(K){var C,R;if(!f)return;l(6,p=K.detail.firstAnswer),v=K.detail.secondAnswer||0,l(5,g=es(f,p,v));const te=g&&f.card.hp?f.card.hp:0;if(Yn(g,te),l(7,b=null),g){let x=!1;if(E&&!f.secondQuestion?(l(4,m=qe()),((C=m.streakCard)==null?void 0:C.id)===f.card.id?l(4,m.currentStreak=(m.currentStreak||0)+1,m):(l(4,m.streakCard=f.card,m),l(4,m.currentStreak=1,m)),m.currentStreak>=2&&(x=!0,l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m)),ct(m)):x=!0,x){const ae={id:f.card.id,name:f.card.name,image:f.card.image,hp:f.card.hp,types:f.card.types,rarity:f.card.rarity,collectedAt:new Date().toISOString()};Wn(ae)&&l(7,b=f.card)}}else l(4,m=qe()),E&&((R=m.streakCard)==null?void 0:R.id)===f.card.id&&(l(4,m.currentStreak=0,m),l(4,m.streakCard=void 0,m),ct(m));l(4,m=qe()),g&&(F(),l(4,m=qe())),l(1,c="result")}function G(){I()}function Y(){I()}function J(){l(9,y="collection"),l(4,m=qe())}function ne(){l(9,y="quiz")}function V(){l(4,m=qe())}const se=K=>K.id===Q,U=K=>M(K.detail),W=()=>P("en"),$=()=>P("no"),re=()=>T(1),Le=()=>T(2),oe=()=>T(3),ve=()=>T(4),_e=()=>T(5);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(16,n=ns(o))},[o,c,f,u,m,g,p,b,h,y,D,Q,E,L,N,O,n,i,z,M,P,T,B,G,Y,J,ne,V,se,U,W,$,re,Le,oe,ve,_e]}class Gs extends Je{constructor(e){super(),Ge(this,e,Ys,Ws,Fe,{},null,[-1,-1])}}new Gs({target:document.getElementById("app")});
